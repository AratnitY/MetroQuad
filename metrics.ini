#------------------------------------------------------------------------------------------------------------------
# METRO QUAD - REVISION 7
# Some Metrics have been moved to MQ-Theme.lua file.
#------------------------------------------------------------------------------------------------------------------

[Combo]
# Not Used Anymore.
ShowComboAt=0
PulseCommand=visible,false
PulseLabelCommand=zoom,0
NumberOnCommand=zoom,0
ComboLabelOnCommand=zoom,0
MissLabelOnCommand=zoom,0

[Common]
FirstAttractScreen=""
AutoSetStyle=false
InitialScreen="ScreenCompany"
ComboUnderField=false

[GameState]
AllowLateJoin=true

[BitmapText]
NumRainbowColors=1
RainbowColor1=Color("Black");

[HelpDisplay]
TipShowTime=7

[PlayerStageStats]
NumGradeTiersUsed=17
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=false
# Quad Stars
GradePercentTier01=1.00
# Triple Stars
GradePercentTier02=0.99
# Double Stars
GradePercentTier03=0.98
# Single Star
GradePercentTier04=0.97
# S+
GradePercentTier05=0.96
# S
GradePercentTier06=0.95
# S-
GradePercentTier07=0.94
# A+
GradePercentTier08=0.92
# A
GradePercentTier09=0.90
# A-
GradePercentTier10=0.87
# B+
GradePercentTier11=0.85
# B
GradePercentTier12=0.80
# B-
GradePercentTier13=0.75
# C+
GradePercentTier14=0.70
# C
GradePercentTier15=0.65
# C-
GradePercentTier16=0.60
# D
GradePercentTier17=-1000

[SongManager]
NumSongGroupColors=1
SongGroupColor1=BoostColor(White(),1.25)
CourseGroupColor1=color("1,1,1,1")
ExtraColorMeter=999999

[BPMDisplayP1]
Fallback="BPMDisplay"
SetNoBpmCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,White();diffusebottomedge,BoostColor(White(),0.875);
SetNormalCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,White();diffusebottomedge,BoostColor(White(),0.875);
SetChangeCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,White();diffusebottomedge,BoostColor(White(),0.875);
SetRandomCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,Green();textglowmode,'TextGlowMode_Inner';glowshift;effectcolor1,color("1,1,1,0.05");effectcolor2,color("1,1,1,0.325");
SetExtraCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,Red();diffusebottomedge,BoostColor(Red(),0.5);diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.475,0.475,0.475,1");
RandomCycleSpeed=0.2

[FadingBanner]
BannerFadeFromCachedCommand=diffusealpha,1;stoptweening;accelerate,0.05;glow,Color.Alpha( White(), 0.45 );decelerate,0.075;diffusealpha,0;glow,Color("Invisible");
BannerOnCommand=
BannerFadeFromCachedCommand=diffusealpha,1;stoptweening;linear,0.15;glow,Color.Alpha(White(),0.25);decelerate,0.15;glow,Color.Invisible;diffusealpha,0
BannerFadeOffCommand=diffusealpha,1;stoptweening;linear,0.15;diffusealpha,0
BannerResetFadeCommand=diffusealpha,1
BannerRouletteCommand=
BannerRandomCommand=

[HoldJudgment]
HoldJudgmentLetGoCommand=finishtweening;y,-24;visible,true;shadowlength,0;diffusealpha,1;zoom,0.9;linear,0.3;zoom,0.8;sleep,0.5;linear,0.1;diffusealpha,0
HoldJudgmentHeldCommand=finishtweening;y,-24;visible,true;shadowlength,0;diffusealpha,1;zoom,0.9;linear,0.3;zoom,0.8;sleep,0.5;linear,0.1;diffusealpha,0

[Judgment]
JudgmentW1Command=finishtweening;shadowlength,0;y,0;diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;glowblink;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.25")
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.2;linear,0.05;zoom,1;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW4Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.1;linear,0.05;zoom,1;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW5Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.0;vibrate;effectmagnitude,1,2,2;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
JudgmentMissCommand=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1;y,-20;linear,0.8;y,20;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
OffsetOnCommand=
OffsetLateCommand=
OffsetEarlyCommand=

[Protiming]
ProtimingOnCommand=shadowlength,1;horizalign,right;x,30;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
AverageOnCommand=shadowlength,1;horizalign,left;x,32;y,8;zoom,0.75;diffuse,ColorLightTone( Green() );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
TextOnCommand=shadowlength,1;horizalign,left;x,32;y,-6;zoom,0.5;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
ProtimingW1Command=finishtweening;diffuse,White();zoom,1.15;glow,White();linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W1"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW2Command=finishtweening;diffuse,White();zoom,1.15;glow,White();linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W2"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW3Command=finishtweening;diffuse,White();zoom,1.15;glow,White();linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W3"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW4Command=finishtweening;diffuse,White();zoom,1.15;glow,White();linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W4"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW5Command=finishtweening;diffuse,White();zoom,1.15;glow,White();linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W5"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingMissCommand=finishtweening;diffusealpha,1;zoom,1.15;glow,GameColor.Judgment["JudgmentLine_Miss"];linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_Miss"];sleep,2;linear,0.5;diffuse,Color("Invisible");
AveragePulseCommand=finishtweening;diffusealpha,1;zoom,0.75*1.025;decelerate,0.05;zoom,0.75;sleep,2;linear,0.5;diffusealpha,0;
TextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.025;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;

[ScreenAttract]
PrevScreen="ScreenTitleMenu"
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenDemonstration"
TimerSeconds=2

[ScreenDemonstration]
NextScreen="ScreenTitleMenu"
SongMeterDisplayOnCommand=visible,false
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
ShowBPMDisplay=false

[ScreenTitleMenu]
PrevScreen="ScreenCompany"
ShowHeader=false
ShowFooter=false

PerChoiceScrollElement=true
PerChoiceIconElement=false
ShowScroller=true
WrapScroller=false
LoopScroller=false

DefaultChoice="GameStart"
ChoiceNames="GameStart,GameSelect,Online,Jukebox,Edit,Feature,Options,Root,About,Exit"

ChoiceGameStart="applydefaultoptions;text,Game Start;screen,"..ScreenTitle.StartGame()
ChoiceOptions="screen,ScreenOptionsService;text,Options"
ChoiceRoot="screen,ScreenRootTheme;text,Options"
ChoiceEdit="text,Edit/Share;screen,"..Branch.OptionsEdit()
ChoiceFeature="screen,ScreenFeatureOptions;text,Features Menu"
ChoiceOnline="screen,ScreenNetworkOptions;text,Play Online"
ChoiceGameSelect="screen,ScreenSelectGame;text,Select Game"
ChoiceJukebox="screen,ScreenJukeboxMenu;text,Jukebox"
ChoiceAbout="urlnoexit,http://ov3rhell3xoduz.es.tl/SM5-Metro-Quad.htm;text,About"
ChoiceExit="screen,ScreenExit;text,Exit"

ScrollerX=CenterX()-362
ScrollerY=Top()+94
ScrollerOnCommand=zoom,1
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(32*offset); end

ShowCurrentGametype=true
CurrentGametypeX=CenterX()
CurrentGametypeY=Bottom()-20
CurrentGametypeOnCommand=zoom,1
CurrentGametypeOffCommand=linear,0.5;cropleft,1

ShowNumSongs=true
NumSongsX=CenterX()
NumSongsY=Bottom()-54
NumSongsOnCommand=zoom,0.4;playcommand,"Set"
NumSongsOffCommand=

ShowTimingDifficulty=true
TimingDifficultyX=Left()+84
TimingDifficultyY=Top()+52
TimingDifficultyOnCommand=
TimingDifficultyOffCommand=

ShowLifeDifficulty=true
LifeDifficultyX=Left()+156
LifeDifficultyY=Top()+52
LifeDifficultyOnCommand=
LifeDifficultyOffCommand=

ShowVersionInfo=true
VersionInfoX=Right()-70
VersionInfoY=Bottom()-58
VersionInfoOnCommand=
VersionInfoOffCommand=

ShowNetworkStatus=true
NetworkStatusX=Left()+68
NetworkStatusY=Bottom()-58
NetworkStatusOnCommand=draworder,5;
NetworkStatusOffCommand=linear,0.5;cropright,1

[---------------------------------------------- SCREEN SELECT PROFILE ]
[ScreenSelectProfile]
NextScreen=ScreenProfile.NextScreen()
PrevScreen=Branch.TitleMenu()
StartScreen=ScreenProfile.NextScreen()
WaitForChildrenBeforeTweening=true

[ScreenProfileLoad]
ShowHeader=true
ShowFooter=true
ShowHelp=false

[DifficultyList]
ItemsSpacingY=24
NumShownItems=8

[LifeMeterBar]
OverOnCommand=diffuse,White();diffuserightedge,BoostColor(White(),1.5)

[LifeMeterBattery]
BatteryBlinkTime=0.5
BatteryP1X=0
BatteryP1Y=0
BatteryP2X=0
BatteryP2Y=0
NumLivesP2OnCommand=zoomx,-1
NumLivesP2LoseLifeCommand=zoomx,-1.5;zoomy,1.5;linear,0.15;zoomx,-1;zoomy,1

[LifeMeterBattery Percent]
Format=
PercentP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)
DancePointsP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)

[OptionRow]
ShowBpmInSpeedTitle=true
FrameX=CenterX()-304
TitleX=Left()+40,Left()+50
TitleY=
TitleOnCommand=zoom,0.7;halign,0;shadowlength,1;shadowcolor,color("0,0,0,0.8");maxwidth,150;strokecolor,color("0,0,0,0.2")
TitleGainFocusCommand=diffuse,color("1,1,1,1")
TitleLoseFocusCommand=stopeffect
ItemsStartX=WideScale(Left()+150,Left()+180)
ItemsEndX=Width()-250
ItemsLongRowP1X=WideScale(CenterX()-100,CenterX()-130)
ItemsLongRowP2X=WideScale(CenterX()+100,CenterX()+100)
ItemOnCommand=zoom,0.6;shadowlength,1;shadowcolor,color("0,0,0,0.8");strokecolor,color("0,0,0,0.2")

[OptionRowService]
FrameX=CenterX()-304

[OptionRowMiniMenu]
Fallback="OptionRow"
IconsP1X=CenterX()-280
IconsP2X=CenterX()+280
IconsOnCommand=x,-30

TitleX=CenterX()-150

TitleOnCommand=horizalign,left;shadowlength,2;NoStroke;
TitleGainFocusCommand=diffuse,color("#fff600");
TitleLoseFocusCommand=diffuse,color("#ffffff");

ItemsStartX=CenterX()-150
ItemsEndX=CenterX()+280
ItemsGapX=14
ItemsLongRowP1X=CenterX()-60
ItemsLongRowP2X=CenterX()+100
ItemsLongRowSharedX=CenterX()+150
ItemOnCommand=
ColorSelected=color("0.5,1,0.5,1")
ColorNotSelected=color("1,1,1,1")
ColorDisabled=color("0.5,0.5,0.5,1")
TweenSeconds=0

[OptionRowExit]
FrameOnCommand=visible,true;diffuse,Color("Black");diffusealpha,0.8;scaletoclipped,820,40;addy,+0.25
FrameX=CenterX()

ItemsMinBaseZoom=1
ItemOnCommand=shadowlength,1;zoom,0.8;diffuse,Red();diffusebottomedge,BoostColor(Red(),0.75);shadowcolor,BoostColor(Red(),0.35)
ItemGainFocusCommand=stoptweening;linear,0.2;zoom,1;diffuse,Red();diffusebottomedge,BoostColor(Red(),0.75)
ItemLoseFocusCommand=stoptweening;decelerate,0.5;zoom,0.8;

ColorSelected=Red()
ColorNotSelected=Red()
ColorDisabled=Red()

ItemsLongRowP1X=CenterX()
ItemsLongRowP2X=CenterX()
ItemsLongRowSharedX=CenterX()

[OptionRowSimple]
Fallback="OptionRow"

FrameX=CenterX()
FrameY=2
FrameGainFocusCommand=glowshift;effectcolor2,color("#fffdd4");
FrameLoseFocusCommand=stopeffect

TitleX=Left()+30
TitleY=+30
TitleOnCommand=zoom,1;halign,0;shadowlength,1;NoStroke
TitleGainFocusCommand=diffuseshift;effectperiod,1.5;effectcolor1,color("1,1,0.8,1");effectcolor2,color("0.8,0.8,1,1")
TitleLoseFocusCommand=stopeffect

[OptionRowSimpleExit]
Fallback="OptionRowSimple"
ItemOnCommand=visible,false
FrameOnCommand=visible,false

[OptionsCursorP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1)

[OptionsCursorP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2)

[OptionsUnderline]

[OptionsUnderlineP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1)

LeftX=0
MiddleX=0
RightX=0
LeftY=-9
MiddleY=-9
RightY=-9

[OptionsUnderlineP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2)

LeftX=0
MiddleX=0
RightX=0
LeftY=10
MiddleY=10
RightY=10

[MenuTimer]
Text1OnCommand=stopeffect;stoptweening;halign,1;shadowlength,0;strokecolor,Color("Outline")
Text1FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); setenv("Timer",fSeconds-1); local digit = math.floor(fSeconds/10); return ""..digit end

Text2OnCommand=stopeffect;stoptweening;halign,0;shadowlength,0;strokecolor,Color("Outline")
Text2FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.mod(fSeconds,10); return ""..digit end

Warning10Command=diffuseshift;effectperiod,1;effectcolor2,Red();effectcolor1,color("0.5,0,0,1");

[MusicWheel]
SwitchSeconds=0.04
LockedInitialVelocity=7
UseEasyMarkerFlag=true

NumWheelItems=16
RouletteSwitchSeconds=0.04
RouletteSlowDownSwitches=5
LockedInitialVelocity=15

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:x( (1-math.cos(offsetFromCenter/math.pi))*0 ); self:y( offsetFromCenter*46 ); end
MusicWheelSortOnCommand=fov,90;
MusicWheelSortOffCommand=fov,90;
MusicWheelItemSortOnCommand=zoomy,0;bounceend,0.15;zoomy,1
MusicWheelItemSortOffCommand=linear,0.175;zoomy,0
HighlightOnCommand=diffuseshift;effecttiming,(1/8),0,(7/8),0;effectcolor2,White();effectcolor1,color("1,1,1,0.5");effectclock,'beatnooffset'
HighlightSortOnCommand=stoptweening;decelerate,0.125;glow,Color("Stealth");zoom,1
HighlightSortOffCommand=stoptweening;accelerate,0.125;glow,Orange();zoom,1.05
WheelItemOnDelayOffset=0.00
WheelItemOffDelayOffset=0.00

SectionColor1=Orange()
SongRealExtraColor=Red()
SortMenuColor=Orange()

ShowRoulette=ThemePrefs.Get("ShowRoulette")
ShowRandom=ThemePrefs.Get("ShowRandom")

RouletteColor=color("#FFFFFF")
RandomColor=color("1,0,0,1")
PortalColor=color("1,0,0,1")
[CourseWheel]

[OniWheel]
Fallback="CourseWheel"
ModeMenuChoiceNames="Oni,Survival"

[OnlineMusicWheel]
NumWheelItems=ThemePrefs.Get("MWNumItems")

ItemTransformFunction=music_wheel_transform

MusicWheelSortOnCommand=fov,90;
MusicWheelSortOffCommand=fov,90;
MusicWheelItemSortOnCommand=zoomy,0;bounceend,0.15;zoomy,1
MusicWheelItemSortOffCommand=linear,0.175;zoomy,0

HighlightOnCommand=diffuseshift;effecttiming,(1/8),0,(7/8),0;effectcolor2,White();effectcolor1,color("1,1,1,0.5");effectclock,'beatnooffset'
HighlightSortOnCommand=stoptweening;decelerate,0.125;glow,Color("Stealth");zoom,1
HighlightSortOffCommand=stoptweening;accelerate,0.125;glow,Orange();zoom,1.05

ShowRoulette=false
ShowRandom=false

[MusicWheelItem]
SongNameX=-130
SongNameY=0
SongNameOnCommand=halign,1;

CourseX=-150
CourseOnCommand=maxwidth,208;horizalign,left

SectionExpandedX=-162
SectionExpandedY=0
SectionExpandedOnCommand=horizalign,left;maxwidth,550;shadowlength,1;zoomx,0.5;zoomy,0.75;

SectionCollapsedX=-162
SectionCollapsedY=0
SectionCollapsedOnCommand=horizalign,left;maxwidth,550;shadowlength,1;zoomx,0.5;zoomy,0.75;

SectionCountX=140
SectionCountOnCommand=zoom,0.5;

RouletteOnCommand=uppercase,true;zoom,0.6;shadowlength,1
RandomOnCommand=uppercase,true;zoom,0.6;shadowlength,1

SortX=-132
SortY=-2
SortOnCommand=maxwidth,256;horizalign,left;shadowlength,1;shadowcolor,color("0,0,0,0.325")

ModeX=-132
ModeY=-2
ModeOnCommand=maxwidth,256;horizalign,left;strokecolor,Color("Outline")

GradeP1X=-156
GradeP1Y=0
GradeP1OnCommand=zoomx,0.5;zoomy,0.7;shadowlength,0

GradeP2X=156
GradeP2Y=0
GradeP2OnCommand=zoomx,0.5;zoomy,0.7;shadowlength,0

[NoteField]
ShowBoard=GAMESTATE:GetCurrentGame():GetName() == "kb7"

[Player]
ReceptorArrowsYStandard=-166
ReceptorArrowsYReverse=180

ComboUnderField=ComboUnderField()
RollBodyIncrementsCombo=true

[PlayerOptions]

[PlayerShared]

[Profile]

[RadarValues]

[RollingNumbers]

[RollingNumbersEvaluation]

[RollingNumbersJudgment]

[ScoreDisplayNormal]
TextOnCommand=shadowlength,1;

[ScoreDisplayOni]
TextX=
TextY=
TextOnCommand=shadowlength,1;
TextOffCommand=

[ScoreDisplayOni Numbers]
TextX=
TextY=
TextOnCommand=shadowlength,1;
TextOffCommand=

[ScoreDisplayLifeTime]
FrameOnCommand=visible,false;spin
#
TimeRemainingY=80
TimeRemainingOnCommand=zoom,1;shadowlength,1;
#
DeltaSecondsOnCommand=y,80;spin;
DeltaSecondsGainLifeCommand=zoom,0.5;

[ScoreDisplayPercentage Percent]
PercentP1OnCommand=shadowlength,1;diffuse,PlayerColor(White);strokecolor,ColorDarkTone(PlayerColor(PLAYER_1))
PercentP2OnCommand=shadowlength,1;diffuse,PlayerColor(White);strokecolor,ColorDarkTone(PlayerColor(PLAYER_2))

[ScoreDisplayRave]
MeterP1OnCommand=draworder,-1;texcoordvelocity,1,0
MeterP2OnCommand=draworder,-1;zoomx,-1;texcoordvelocity,1,0
LevelP1OnCommand=draworder,105;zoom,0.75;diffuse,ColorLightTone( PlayerColor(PLAYER_1) );strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );x,-144;skewx,-0.125;
LevelP2OnCommand=draworder,105;draworder,105;zoom,0.75;diffuse,ColorLightTone( PlayerColor(PLAYER_2) );strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );x,144;skewx,-0.125;

[ScoreKeeperRave]

[ScoreKeeperNormal]
PercentScoreWeightCheckpointHit=0
PercentScoreWeightCheckpointMiss=0

PercentScoreWeightHeld=IsGame("Pump") and 0 or 5
PercentScoreWeightHitMine=-6
PercentScoreWeightLetGo=0
PercentScoreWeightMiss=-12
PercentScoreWeightW1=5
PercentScoreWeightW2=5
PercentScoreWeightW3=4
PercentScoreWeightW4=2
PercentScoreWeightW5=-6

GradeWeightCheckpointHit=0
GradeWeightCheckpointMiss=0

GradeWeightHeld=IsGame("Pump") and 0 or 5
GradeWeightHitMine=-6
GradeWeightLetGo=0
GradeWeightMiss=-12
GradeWeightW1=5
GradeWeightW2=5
GradeWeightW3=4
GradeWeightW4=2
GradeWeightW5=-6

[ScreenEvaluation Percent]
# TODO: Better name?
PercentP1OnCommand=horizalign,right;shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
PercentP2OnCommand=horizalign,right;shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
PercentRemainderP1OnCommand=horizalign,left;shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
PercentRemainderP2OnCommand=horizalign,left;shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
DancePointsP1X=0
DancePointsP1Y=0
DancePointsP1OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
DancePointsP1OffCommand=
DancePointsP2X=0
DancePointsP2Y=0
DancePointsP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
DancePointsP2OffCommand=
DancePointsDigits=2
ApplyScoreDisplayOptions=true
PercentDecimalPlaces=2
PercentTotalSize=5

[SoundEffectControl]

[SoundEffectControl_Off]

[SoundEffectControl_Speed]

[SoundEffectControl_Pitch]

[StepsDisplayList]
ItemsSpacingY=18.5
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=


[StepsDisplayListRow]
ShowDescription=true
ItemsSpacingY=18.5
NumShownItems=ThemePrefs.Get("SDNumItems")

CapitalizeDifficultyNames=true
MoveCommand=

DescriptionX=-66
DescriptionY=0
DescriptionOnCommand=halign,1;zoomx,0.3;zoomy,0.5;shadowlength,2;maxwidth,112
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:uppercase( param.CustomDifficulty ~= "Edit" ) \
	end \
	if param.Steps and param.Steps:IsAnEdit() and param.Steps:GetDescription() == "" then \
		self:settext("Untitled") \
	end \
end

ShowTicks=ThemePrefs.Get("SDShowTicks")
NumTicks=ThemePrefs.Get("SDNumTicks")
MaxTicks=ThemePrefs.Get("SDNumTicks")
TicksX=-62
TicksY=1
TicksOnCommand=halign,0;zoomx,0.395
TicksSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end

ShowMeter=ThemePrefs.Get("SDShowMeter")
MeterX=MeterXPosition()
MeterY=2
MeterOnCommand=zoomx,0.3;zoomy,0.5
MeterSetCommand=%function(self,param) if param.CustomDifficulty then self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) end end

[SongMeterDisplay]
StreamWidth=317

ContainerX=
ContainerY=
ContainerOnCommand=
ContainerOffCommand=

FrameX=0
FrameY=0
FrameOnCommand=diffuse,White();
FrameOffCommand=

StreamX=0
StreamY=0
StreamOnCommand=0
StreamOffCommand=0

TipX=0
TipY=0
TipOnCommand=
TipOffCommand=
[SongMeterDisplayP1]
Fallback="SongMeterDisplay"
FrameOnCommand=sleep,2;linear,0.0;diffuse,White();
[SongMeterDisplayP2]
Fallback="SongMeterDisplay"
FrameOnCommand=sleep,2;linear,0.25;diffuse,White();glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0

[StreamDisplay]
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local fItemWidth = ( 400 / numItems ) \
	self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	self:zoomtowidth(fItemWidth); \
	self:effecttiming(256,256*itemIndex,256,256*itemIndex); \
end;

TextureCoordScaleX=256/16
NumPills=16

[TextBanner]
TitleOnCommand=x,-12;horizalign,left;shadowlength,1;uppercase,true
SubtitleOnCommand=visible,false
ArtistOnCommand=visible,false

AfterSetCommand=%TextBannerAfterSet

[WheelNotifyIcon]

[Screen]

[ScreenDebugOverlay]

[ScreenSystemLayer]
ShowClock=true

CreditsP1X=Left()+68
CreditsP1Y=Bottom()-20
CreditsP1RefreshCreditTextMessageCommand=queuecommand,"UpdateText";
CreditsP1CoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsP1CoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsP1PlayerJoinedMessageCommand=queuecommand,"UpdateText";
CreditsP1ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP1OnCommand=zoom,0.45;shadowlength,1;

CreditsP2X=Right()-68
CreditsP2Y=Bottom()-20
CreditsP2RefreshCreditTextMessageCommand=queuecommand,"UpdateText";
CreditsP2CoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsP2PlayerJoinedMessageCommand=queuecommand,"UpdateText";
CreditsP2ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP2OnCommand=zoom,0.45;shadowlength,1;
[ScreenConsoleOverlay]

[ScreenInstallOverlay]

[ScreenSyncOverlay]

[ScreenStatsOverlay]

[ScreenWithMenuElements]
WaitForChildrenBeforeTweening=true

ScreenInDelay=0
ScreenOutDelay=0

ShowHeader=false
ShowFooter=false

ShowHelp=true
HelpX=CenterX()
HelpY=Bottom()-16
HelpOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;zoom,1*0.675;linear,0.175
HelpOffCommand=linear,0.175;zoomy,0

AlternateHelpDisplayX=CenterX()
AlternateHelpDisplayY=Bottom()-16
AlternateHelpDisplayOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;linear,0.175;zoom,1*0.675;diffusealpha,0
AlternateHelpDisplayOffCommand=linear,0.175;zoomy,0

TimerX=CenterX()+390
TimerY=Top()+20
TimerOnCommand=draworder,6;visible,true;zoom,0.8
TimerOffCommand=

StageDisplayNumberOffset=1
StageDisplayUseShortString=false

ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=draworder,100
ArcadeOverlayOffCommand=

ArcadeOverlay.TextX=CenterX()
ArcadeOverlay.TextY=Bottom()-48
ArcadeOverlay.TextOnCommand=
ArcadeOverlay.TextOffCommand=

ShowTimingDifficulty=true
TimingDifficultyX=Left()+84
TimingDifficultyY=Top()+52
TimingDifficultyOnCommand=
TimingDifficultyOffCommand=

ShowLifeDifficulty=true
LifeDifficultyX=Left()+156
LifeDifficultyY=Top()+52
LifeDifficultyOnCommand=
LifeDifficultyOffCommand=

[ScreenWithMenuElementsBlank]
ShowHeader=false
ShowFooter=false

[ScreenStageInformation]
Class="ScreenSplash"
Fallback="ScreenSplash"
NextScreen=Branch.GameplayScreen()
PrevScreen=Branch.BackOutOfStageInformation()
PrepareScreen="ScreenGameplay"

ForceTimer=true
TimerSeconds=7
TimerStealth=false

TimerX=Right()-31
TimerY=Top()+32
TimerOnCommand=draworder,6;visible,true;zoom,0.9;horizalign,right
TimerOffCommand=

ShowPercentScoreP1=true
PercentScoreP1X=CenterX()+28
PercentScoreP1Y=CenterY()-125+20*8
PercentScoreP1OnCommand=draworder,300;player,PLAYER_1;
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;

ShowPercentScoreP2=true
PercentScoreP2X=CenterX()+244
PercentScoreP2Y=CenterY()-125+20*8
PercentScoreP2OnCommand=draworder,300;player,PLAYER_2;
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;

[ScreenStageInformationCourse]
Class="ScreenSplash"
Fallback="ScreenSplash"
NextScreen=Branch.GameplayScreen()
PrevScreen=Branch.BackOutOfStageInformation()
PrepareScreen="ScreenGameplay"

ForceTimer=true
TimerSeconds=7
TimerStealth=false

TimerX=CenterX()+390
TimerY=Top()+32
TimerOnCommand=draworder,6;visible,true;zoom,1
TimerOffCommand=

ShowPercentScoreP1=true
PercentScoreP1X=CenterX()+28
PercentScoreP1Y=CenterY()-125+20*8
PercentScoreP1OnCommand=draworder,300;player,PLAYER_1;
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;

ShowPercentScoreP2=true
PercentScoreP2X=CenterX()+244
PercentScoreP2Y=CenterY()-125+20*8
PercentScoreP2OnCommand=draworder,300;player,PLAYER_2;
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;

[ScreenTextEntry]
QuestionOnCommand=diffuse,Orange();diffusetopedge,BoostColor(Orange(),1.5);wrapwidthpixels,600
AnswerOnCommand=diffuse,Color("Blue");glowshift;

[ScreenQuickSetupOverview]
IconStartX=CenterX()-160
IconStartY=Bottom()-60
IconSetX=CenterX()-160
IconSetY=Bottom()-60
IconBackX=CenterX()+160
IconBackY=Bottom()-60

ExplanationX=CenterX()
ExplanationY=Bottom()-100
ExplanationOnCommand=shadowlength,1;zoom,0.75;maxwidth,Width()/0.75;
ExplanationOffCommand=

[ScreenSelectStyle]
ShowHeader=false
NextScreen=Branch.SelectMusic

DefaultChoice="Single"
ChoiceNames="Single,Double,Versus"

PerChoiceScrollElement=false
PerChoiceIconElement=false
ShowScroller=false
ShowIcon=true
WrapScroller=true
UseIconMetrics=true

ChoiceSingle="name,Single;style,single;text,Single;screen,"..Branch.AfterSelectStyle()
ChoiceDouble="name,Double;style,double;text,Double;screen,"..Branch.AfterSelectStyle()
ChoiceVersus="name,Versus;style,versus;text,Versus;screen,"..Branch.AfterSelectStyle()

IconChoiceSingleX=IconSingleX()
IconChoiceSingleY=CenterY()
IconChoiceSingleOnCommand=%IconChoiceOnCommand
IconChoiceSingleOffCommand=%IconChoiceOffCommand

IconChoiceDoubleX=IconDoubleX()
IconChoiceDoubleY=CenterY()
IconChoiceDoubleOnCommand=%IconChoiceOnCommand
IconChoiceDoubleOffCommand=%IconChoiceOffCommand

IconChoiceVersusX=IconVersusX()
IconChoiceVersusY=CenterY()
IconChoiceVersusOnCommand=%IconChoiceOnCommand
IconChoiceVersusOffCommand=%IconChoiceOffCommand

IconGainFocusCommand=bounceend,0.1;zoom,0.8
IconLoseFocusCommand=decelerate,0.1;zoom,0.7

[ScreenMQ6PanelsSelectStyle]
Class="ScreenSelectMaster"
Fallback="ScreenSelectStyle"
ShowHeader=false
NextScreen=Branch.SelectMusic
PrevScreen=Branch.TitleMenu()

DefaultChoice="Solo"
ChoiceNames="Solo,Threepanel"

ChoiceSolo="name,Solo;style,solo;text,Solo;screen,"..Branch.AfterSelectStyle()
ChoiceThreepanel="name,Threepanel;style,threepanel;text,Threepanel;screen,"..Branch.AfterSelectStyle()

IconChoiceSoloX=CenterX()-170
IconChoiceSoloY=CenterY()
IconChoiceSoloOnCommand=%IconChoiceOnCommand
IconChoiceSoloOffCommand=%IconChoiceOffCommand

IconChoiceThreepanelX=CenterX()+170
IconChoiceThreepanelY=CenterY()
IconChoiceThreepanelOnCommand=%IconChoiceOnCommand
IconChoiceThreepanelOffCommand=%IconChoiceOffCommand

[ScreenSelectPlayMode]
ShowHeader=false
PersistScreens="ScreenSelectPlayMode,ScreenSelectMusic"
ScreenOutDelay=0

DefaultChoice="Normal"
ChoiceNames="Normal,Nonstop,Endless"
PerChoiceIconElement=false
ShowScroller=false
WrapScroller=false

ScrollerX=CenterX()
ScrollerY=CenterY()-60
ScrollerOnCommand=SetFastCatchup,true;
ScrollerOffCommand=decelerate,0.8;y,CenterY();sleep,1.5;linear,0.1;zoomy,0

ChoiceNormal="applydefaultoptions;name,Normal;text,Dance;playmode,regular;difficulty,easy;screen,ScreenSelectMusic;setenv,sMode,Normal"
ChoiceNonstop="applydefaultoptions;name,Nonstop;text,Extended;playmode,nonstop;screen,ScreenSelectCourse;setenv,sMode,Nonstop"
ChoiceEndless="applydefaultoptions;name,Endless;text,Marathon;playmode,endless;screen,ScreenSelectCourse;setenv,sMode,Endless"

ShowBackgroundFrame=false
ShowIcon=true
UseIconMetrics=true

IconGainFocusCommand=stoptweening;glowshift;decelerate,0.125;zoom,1;
IconLoseFocusCommand=stoptweening;stopeffect;decelerate,0.125;zoom,0.6;

IconChoiceNormalX=CenterX()-280
IconChoiceNormalY=CenterY()
IconChoiceNormalOnCommand=zoom,0;zoom,0.6
IconChoiceNormalOffCommand=linear,0.1175;zoomx,0

IconChoiceNonstopX=CenterX()
IconChoiceNonstopY=CenterY()
IconChoiceNonstopOnCommand=zoom,0;zoom,0.6
IconChoiceNonstopOffCommand=linear,0.1175;zoomx,0

IconChoiceEndlessX=CenterX()+280
IconChoiceEndlessY=CenterY()
IconChoiceEndlessOnCommand=zoom,0;zoom,0.6
IconChoiceEndlessOffCommand=linear,0.1175;zoomx,0

[ScreenSelectCharacter]

[ScreenGameInformation]

[ScreenSelectMusic]
ShowHeader=false
NextScreen=ScreenMusic.NextScreen()
UsePlayerSelectMenu=false
SampleMusicLoops=false

SelectMenuAvailable=true
HelpSelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
HelpSelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*0.75;bouncebegin,0.125;diffusealpha,1;zoom,0.675

ShowTimingDifficulty=true
TimingDifficultyX=Left()+84
TimingDifficultyY=Top()+52

ShowLifeDifficulty=true
LifeDifficultyX=Left()+156
LifeDifficultyY=Top()+52

MusicWheelX=MusicWheelX()
MusicWheelY=MusicWheelY()
MusicWheelOnCommand=%MusicWheelOnCommand
MusicWheelOffCommand=

ShowSongTimeP1=true
SongTimeP1X=Left()+80
SongTimeP1Y=Top()+120
SongTimeP1OnCommand=horizalign,left;vertalign,top;zoom,0.5;
SongTimeP1ResetCommand=diffuse,White();
SongTimeP1AutogenCommand=diffuse,Green();
SongTimeP1LongCommand=diffuse,Yellow();diffusebottomedge,Orange();
SongTimeP1MarathonCommand=diffuse,Orange();diffusebottomedge,Red();

ShowSongTimeP2=true
SongTimeP2X=Right()-218
SongTimeP2Y=Top()+120
SongTimeP2OnCommand=horizalign,left;vertalign,top;zoom,0.5;
SongTimeP2ResetCommand=diffuse,White();
SongTimeP2AutogenCommand=diffuse,Green();
SongTimeP2LongCommand=diffuse,Yellow();diffusebottomedge,Orange();
SongTimeP2MarathonCommand=diffuse,Orange();diffusebottomedge,Red();

ShowSortOrder=true
SortOrderX=Left()+204
SortOrderY=Top()+58
SortOrderOnCommand=draworder,105;zoom,0.3
SortOrderSortCommand=
SortOrderSongChosenCommand=diffusealpha,0;
SortOrderOffCommand=

ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=CenterX()
StageDisplayY=Top()+20
StageDisplayOnCommand=draworder,105;zoom,0.5
StageDisplayOffCommand=

ShowDifficultyDisplay=false
DifficultyDisplayX=CenterX()-160
DifficultyDisplayY=Top()+160-96+2
DifficultyDisplayOnCommand=draworder,105;fov,90;zoom,1;zoomy,0;sleep,0.35;smooth,0.35;zoomy,1
DifficultyDisplayOffCommand=linear,0.25;zoomy,0;

BannerX=CenterX()
BannerY=CenterY()-121.7
BannerOnCommand=zoomx,0.205;zoomy,0.193;scaletoclipped,1280,480
BannerOffCommand=

ShowBannerFrame=true
BannerFrameX=CenterX()-200
BannerFrameY=Top()+160-36+4
BannerFrameOnCommand=draworder,-5;addy,-CenterY();decelerate,0.35;addy,CenterY()
BannerFrameOffCommand=

ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=CenterX()-314
PaneDisplayTextP1Y=Top()+116+48+24
PaneDisplayTextP1OnCommand=player,PLAYER_1;zoom,0.95
#PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end

ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=CenterX()+242
PaneDisplayTextP2Y=Top()+116+48+24
PaneDisplayTextP2OnCommand=player,PLAYER_2;zoom,0.95
#PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end

ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=CenterX()-160+128
NumCourseSongsY=Top()+160+(36/2)+8
NumCourseSongsOnCommand=zoom,0.75;strokecolor,Color("Outline");shadowlength,1
NumCourseSongsOffCommand=bouncebegin,0.15;zoom,0;diffusealpha,0;

ShowSongOptions=true
SongOptionsX=CenterX()
SongOptionsY=CenterY()
SongOptionsOnCommand=visible,false;draworder,1000

SongOptionsShowCommand=%SongOptionsShow
SongOptionsEnterCommand=%SongOptionsEnter
SongOptionsHideCommand=

ScoreP1SortChangeCommand=stoptweening;
ScoreP2SortChangeCommand=stoptweening;
ScoreFrameP1SortChangeCommand=stoptweening;
ScoreFrameP2SortChangeCommand=stoptweening;

StepsDisplayP1X=CenterX()-398
StepsDisplayP1Y=Top()+92
StepsDisplayP1OnCommand=draworder,200;zoom,1.2;visible,GAMESTATE:IsPlayerEnabled(PLAYER_1)
StepsDisplayP1SetCommand=zoom,1.2

StepsDisplayP2X=CenterX()+398
StepsDisplayP2Y=Top()+92
StepsDisplayP2OnCommand=draworder,200;zoom,1.2;visible,GAMESTATE:IsPlayerEnabled(PLAYER_2)
StepsDisplayP2SetCommand=zoom,1.2

ShowPercentScoreP1=true
PercentScoreP1X=CenterX()-142
PercentScoreP1Y=Bottom()-14
PercentScoreP1OnCommand=draworder,20;player,PLAYER_1

ShowPercentScoreP2=true
PercentScoreP2X=CenterX()+282
PercentScoreP2Y=Bottom()-14
PercentScoreP2OnCommand=draworder,20;player,PLAYER_2;

[ScreenSelectCourse]
MusicWheelType=GAMESTATE:GetPlayMode() == 'PlayMode_Oni' and "OniWheel" or "CourseWheel"
Codes=GAMESTATE:GetPlayMode() == 'PlayMode_Oni' and "OniCodeDetector" or "CourseCodeDetector"

ShowDifficultyList=true
ShowCourseContentsList=true
CourseContentsListOnCommand=zoomx,0.8;zoomy,0.75
CourseContentsListX=CenterX()-310
CourseContentsListY=CenterY()+15

ShowNumCourseSongs=true
NumCourseSongsX=CenterX()-120
NumCourseSongsY=CenterY()-24
NumCourseSongsOnCommand=zoom,0.5
#
UsePlayerSelectMenu=false
SelectMenuAvailable=false
#
ShowPaneDisplayFrameP1=false
ShowPaneDisplayTextP1=false
ShowPaneDisplayFrameP2=false
ShowPaneDisplayTextP2=false

ShowPercentScoreP1=true
PercentScoreP1X=CenterX()-320
PercentScoreP1Y=CenterY()+103
PercentScoreP1OnCommand=draworder,300;player,PLAYER_1;
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;

ShowPercentScoreP2=true
PercentScoreP2X=CenterX()-105
PercentScoreP2Y=CenterY()+103
PercentScoreP2OnCommand=draworder,300;player,PLAYER_2;
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;

[CourseCodeDetector]
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
ModeMenu1=""
ModeMenu2=""

[OniCodeDetector]
Fallback="CodeDetector"

[StepsDisplayEvaluation]
Fallback="StepsDisplay"
MeterOnCommand=zoom,0.5

[StepsDisplay]
ShowMeter=true
MeterX=0
MeterY=0
MeterOnCommand=zoom,0.65
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end

FrameLoadCommand=zoom,1

ShowTicks=false
ShowDescription=false

ShowAutogen=true
AutogenX=-30
AutogenY=0
AutogenOnCommand=zoom,0.7

[StepsDisplayGameplay]
Fallback="StepsDisplay"

ShowMeter=true
ZeroMeterString="?"
MeterX=42
MeterY=0
MeterOnCommand=textglowmode,'TextGlowMode_Inner'
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(color("#FFFFFF")); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:zoom(0.6); \
		else \
			self:zoom(0.6); \
		end; \
	end; \
end;

ShowDescription=true
DescriptionX=-54
DescriptionY=0
DescriptionOnCommand=uppercase,true;zoom,0.6;maxwidth,120;horizalign,left
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(color("#FFFFFF")); \
	end; \
	(cmd(finishtweening;diffusealpha,0;addx,-4;smooth,0.125;addx,4;diffusealpha,1))(self); \
end;

ShowAutogen=false
AutogenX=
AutogenY=
AutogenOnCommand=

[ScreenOptions]
ShowHeader=true
ShowFooter=true

ShowExitRow=false
SeparateExitRow=false

CursorTweenSeconds=0.1
#
DisqualifyP1X=CenterX()-176
DisqualifyP1Y=Bottom()-98
DisqualifyP1OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_1
DisqualifyP2X=CenterX()+176
DisqualifyP2Y=Bottom()-98
DisqualifyP2OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_2
#
ContainerOnCommand=
CursorOnCommand=
#
NumRowsShown=10
RowInitCommand=
RowOnCommand=
RowOffCommand=
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-160+30*offsetFromCenter) end
#
LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.25;fadeleft,0.05;faderight,0.05;diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25");effectclock,'beat'
LineHighlightChangeCommand=linear,0.1;diffuse,White();diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25")
LineHighlightChangeToExitCommand=linear,0.1;diffuse,Red();diffuseshift;effectcolor2,color("1,0,0,0.5");effectcolor1,color("1,0,0,0.25")
#
LineHighlightP1OnCommand=diffuse,PlayerColor(PLAYER_1);diffusealpha,0.65;zoomtowidth,500;fadeleft,0.45;faderight,0.45;
LineHighlightP1ChangeCommand=finishtweening;diffusealpha,0.65;
LineHighlightP1ChangeToExitCommand=finishtweening;diffusealpha,0.15;
LineHighlightP2OnCommand=diffuse,PlayerColor(PLAYER_2);diffusealpha,0.65;zoomtowidth,500;fadeleft,0.45;faderight,0.45;
LineHighlightP2ChangeCommand=finishtweening;diffusealpha,0.65;
LineHighlightP2ChangeToExitCommand=finishtweening;diffusealpha,0.15;
#
ShowScrollBar=true
ScrollBarHeight=320
ScrollBarTime=0.1
ScrollBarX=CenterX()+256+44
ScrollBarY=CenterY()-24
#
ShowExplanations=true
ExplanationP1X=CenterX()-402
ExplanationP1Y=CenterY()+186
ExplanationP1OnCommand=diffuse,PlayerColor(PLAYER_1);shadowlength,1;wrapwidthpixels,470/0.5;zoom,0.4;halign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1OffCommand=

ExplanationP2X=CenterX()+402
ExplanationP2Y=CenterY()+186
ExplanationP2OnCommand=diffuse,PlayerColor(PLAYER_2);shadowlength,1;wrapwidthpixels,470/0.5;zoom,0.4;halign,1;cropright,1;linear,0.5;cropright,0
ExplanationP2OffCommand=

ExplanationTogetherX=CenterX()
ExplanationTogetherY=CenterY()+184
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.75;wrapwidthpixels,(Width()*0.9375)*1.25;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

[ScreenOptionsMaster]
Fallback="ScreenOptions"
Class="ScreenOptionsMaster"

NoteSkinSortOrder=""
StepsUseChartName=false
StepsRowLayoutType="ShowAllInRow"

Separator="1;selectmultiple"
SeparatorDefault=""
Separator,1="name,line"

# ExitItem is an exit row with the "Exit" text as a menu item; ExitTitle
# uses the menu title.
ExitItem="1;together;SelectNone;showoneinrow"
ExitItemDefault=""
ExitItem,1="screen," .. Screen.Metric("NextScreen") .. ";name,ExitItem"

ExitTitle="1;together;SelectNone;showoneinrow"
ExitTitleDefault=""
ExitTitle,1="screen," .. Screen.Metric("NextScreen") .. ";name,ExitTitle"

# Player options
Persp="5"
PerspDefault="mod,overhead"
Persp,1="mod,incoming;name,Incoming"
Persp,2="mod,overhead;name,Overhead"
Persp,3="mod,space;name,Space"
Persp,4="mod,hallway;name,Hallway"
Persp,5="mod,distant;name,Distant"

Zoom="11;selectone"
ZoomDefault="mod,no mini"
Zoom,1="mod,175% mini;name,-175%"
Zoom,2="mod,150% mini;name,-150%"
Zoom,3="mod,125% mini;name,-125%"
Zoom,4="mod,mini;name,-100%"
Zoom,5="mod,75% mini;name,-75%"
Zoom,6="mod,50% mini;name,-50%"
Zoom,7="mod,25% mini;name,-25%"
Zoom,8="name,0%"
Zoom,9="mod,-25% mini;name,+25%"
Zoom,10="mod,-50% mini;name,+50%"
Zoom,11="mod,-75% mini;name,+75%"

#-------------------------------------------------------------------------------------
Accel="5;selectmultiple"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="mod,boost;name,Boost"
Accel,2="mod,brake;name,Brake"
Accel,3="mod,wave;name,Wave"
Accel,4="mod,expand;name,Expand"
Accel,5="mod,boomerang;name,Boomerang"

Appearance="4;selectmultiple"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="mod,hidden;name,Hidden"
Appearance,2="mod,sudden;name,Sudden"
Appearance,3="mod,stealth;name,Stealth"
Appearance,4="mod,blink;name,Blink"
#-------------------------------------------------------------------------------------
EffectsReceptor="6;selectmultiple"
EffectsReceptorDefault="mod,no confusion,no xmode"
EffectsReceptor,1="mod,confusion;name,Confusion"
EffectsReceptor,2="mod,300% confusion;name,Spinner"
EffectsReceptor,3="mod,1200% confusion;name,Spiral"
EffectsReceptor,4="mod,45% xmode;name,XMode"
EffectsReceptor,5="mod,90% xmode;name,XMode 2"
EffectsReceptor,6="mod,120% xmode;name,XMode 3"

EffectsArrow="8;selectmultiple"
EffectsArrowDefault="mod,no drunk,no dizzy,no twirl,no roll,no beat,no tipsy,no tornado,no bumpy"
EffectsArrow,1="mod,drunk;name,Drunk"
EffectsArrow,2="mod,dizzy;name,Dizzy"
EffectsArrow,3="mod,twirl;name,Twirl"
EffectsArrow,4="mod,roll;name,Roll"
EffectsArrow,5="mod,beat;name,Beat"
EffectsArrow,6="mod,tipsy;name,Tipsy"
EffectsArrow,7="mod,50% tornado;name,Tornado"
EffectsArrow,8="mod,bumpy;name,Bumpy"
#-------------------------------------------------------------------------------------
Fixers="3;selectone"
FixersDefault="mod, no flip,no invert"
Fixers,1="name,Off"
Fixers,2="mod,-20% flip;name,TFPS"
Fixers,3="mod,-40% flip;name,TFPD"

#-------------------------------------------------------------------------------------
Turn="7;selectmultiple"
TurnDefault="mod,no turn"
Turn,1="mod,mirror;name,Mirror"
Turn,2="mod,backwards;name,Backwards"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"
Turn,6="mod,supershuffle;name,SuperShuffle"
Turn,7="mod,softshuffle;name,SoftShuffle"

# Turn="6"
# TurnDefault="mod,no turn"
# Turn,1="name,Off"
# Turn,2="mod,mirror;name,Mirror"
# Turn,3="mod,left;name,Left"
# Turn,4="mod,right;name,Right"
# Turn,5="mod,shuffle;name,Shuffle"
# Turn,6="mod,supershuffle;name,SuperShuffle"

Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no skippy,no echo,no stomp,no bmrize"
Insert,1="mod,wide;name,Wide"
Insert,2="mod,big;name,Big"
Insert,3="mod,quick;name,Quick"
Insert,4="mod,bmrize;name,BMRize"
Insert,5="mod,skippy;name,Skippy"
Insert,6="mod,echo;name,Echo"
Insert,7="mod,stomp;name,Stomp"

RemoveCombinations="4;selectmultiple"
RemoveCombinationsDefault="mod,no little,no nojumps,no nohands,no noquads"
RemoveCombinations,1="mod,little;name,Little"
RemoveCombinations,2="mod,nojumps;name,NoJumps"
RemoveCombinations,3="mod,nohands;name,NoHands"
RemoveCombinations,4="mod,noquads;name,NoQuads"

RemoveFeatures="4;selectmultiple"
RemoveFeaturesDefault="mod,no nostretch,no norolls,no nolifts,no nofakes"
RemoveFeatures,1="mod,nostretch;name,NoStretch"
RemoveFeatures,2="mod,norolls;name,NoRolls"
RemoveFeatures,3="mod,nolifts;name,NoLifts"
RemoveFeatures,4="mod,nofakes;name,NoFakes"

# Insert="8"
# InsertDefault="mod,no little,no wide,no big,no quick,no skippy,no echo,no stomp"
# Insert,1="name,Off"
# Insert,2="mod,little;name,Little"
# Insert,3="mod,wide;name,Wide"
# Insert,4="mod,big;name,Big"
# Insert,5="mod,quick;name,Quick"
# Insert,6="mod,skippy;name,Skippy"
# Insert,7="mod,echo;name,Echo"
# Insert,8="mod,stomp;name,Stomp"

Scroll="5;selectmultiple"
ScrollDefault="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,split;name,Split"
Scroll,3="mod,alternate;name,Alternate"
Scroll,4="mod,cross;name,Cross"
Scroll,5="mod,centered;name,Centered"


# Scroll="5"
# ScrollDefault="mod,no reverse,no split,no alternate,no cross"
# Scroll,1="name,Standard"
# Scroll,2="mod,reverse;name,Reverse"
# Scroll,3="mod,split;name,Split"
# Scroll,4="mod,alternate;name,Alternate"
# Scroll,5="mod,cross;name,Cross"

Holds="5;selectmultiple"
HoldsDefault="mod,no noholds,no planted,no twister,no holdrolls"
Holds,1="mod,noholds;name,NoHolds"
Holds,2="mod,planted;name,Planted"
Holds,3="mod,twister;name,Twister"
Holds,4="mod,holdrolls;name,HoldsToRolls"
Holds,5="mod,25% flip,-25% invert,23% alternate,-23% split,50% reverse,0.04x,-4500% bumpy,50% boost,1000% sudden,-97.75% suddenoffset,noholds,norolls;name,D-Pad"

# Holds="7"
# HoldsDefault="mod,no noholds,no planted,no twister,no nojumps,no nohands, no holdstorolls"
# Holds,1="mod,noholds;name,Off"
# Holds,2="name,On"
# Holds,3="mod,planted;name,Planted"
# Holds,4="mod,twister;name,Twister"
# Holds,5="mod,holdstorolls;name,HoldsToRolls"
# Holds,6="mod,nojumps;name,NoJumps"
# Holds,7="mod,nohands;name,NoHands"

Mines="4"
MinesDefault="mod,no nomines,no mines,no attackmines"
Mines,1="mod,nomines;name,Off"
Mines,2="name,On"
Mines,3="mod,mines;name,Add"
Mines,4="mod,attackmines;name,AttackMines"

Attacks="3"
AttacksDefault="mod,no randomattacks, no noattacks"
Attacks,1="name,On"
Attacks,2="mod,randomattacks;name,RandomAttacks"
Attacks,3="mod,noattacks;name,Off"

PlayerAutoPlay="2"
PlayerAutoPlayDefault="mod,no playerautoplay"
PlayerAutoPlay,1="name,Off"
PlayerAutoPlay,2="mod,playerautoplay;name,On"

Hide="3;selectmultiple"
HideDefault="mod,no dark,no blind,no cover"
Hide,1="mod,dark;name,Dark"
Hide,2="mod,blind;name,Blind"
Hide,3="mod,80% cover;name,Cover"

# Song options
# LifeType="3;together"
LifeType=(GAMESTATE:IsCourseMode() and 3 or 2)..";together"
LifeTypeDefault=""
LifeType,1="mod,bar;name,Bar"
LifeType,2="mod,battery;name,Battery"
LifeType,3="mod,lifetime;name,LifeTime"
#
BarDrain="3;together"
BarDrainDefault=""
BarDrain,1="mod,normal-drain;name,Normal"
BarDrain,2="mod,norecover;name,NoRecover"
BarDrain,3="mod,suddendeath;name,SuddenDeath"
#
BatLives="10;together"
BatLivesDefault=""
BatLives,1="mod,1 life;name,1"
BatLives,2="mod,2 lives;name,2"
BatLives,3="mod,3 lives;name,3"
BatLives,4="mod,4 lives;name,4"
BatLives,5="mod,5 lives;name,5"
BatLives,6="mod,6 lives;name,6"
BatLives,7="mod,7 lives;name,7"
BatLives,8="mod,8 lives;name,8"
BatLives,9="mod,9 lives;name,9"
BatLives,10="mod,10 lives;name,10"
#
Fail="4;together"
FailDefault="mod,faildefault"
Fail,1="mod,failimmediate;name,Immediate"
Fail,2="mod,failimmediatecontinue;name,ImmediateContinue"
Fail,3="mod,failatend;name,FailAtEnd"
Fail,4="mod,failoff;name,Off"
#
Assist="4;together"
AssistDefault=""
Assist,1="mod,no clap,no metronome;name,Off"
Assist,2="mod,clap,no metronome;name,Clap"
Assist,3="mod,no clap,metronome;name,Metronome"
Assist,4="mod,clap,metronome;name,Both"
#
Rate="12;together"
RateDefault="mod,1.0xmusic;mod,no haste"
Rate,1="mod,0.9xmusic;name,0.9x"
Rate,2="mod,1.0xmusic;name,1.0x"
Rate,3="mod,1.1xmusic;name,1.1x"
Rate,4="mod,1.2xmusic;name,1.2x"
Rate,5="mod,1.3xmusic;name,1.3x"
Rate,6="mod,1.4xmusic;name,1.4x"
Rate,7="mod,1.5xmusic;name,1.5x"
Rate,8="mod,1.6xmusic;name,1.6x"
Rate,9="mod,1.7xmusic;name,1.7x"
Rate,10="mod,1.8xmusic;name,1.8x"
Rate,11="mod,1.9xmusic;name,1.9x"
Rate,12="mod,2.0xmusic;name,2.0x"

#
AutoAdjust="4;together"
AutoAdjustDefault=""
AutoAdjust,1="mod,no autosync;name,Off"
AutoAdjust,2="mod,autosyncsong;name,Sync Song"
AutoAdjust,3="mod,autosyncmachine;name,Sync Machine"
AutoAdjust,4="mod,autosynctempo;name,Sync Tempo"
#
SoundEffect="3;together"
SoundEffectDefault=""
SoundEffect,1="mod,no effect;name,Off"
SoundEffect,2="mod,EffectSpeed;name,EffectSpeed"
SoundEffect,3="mod,EffectPitch;name,EffectPitch"
#
Background="3;together"
BackgroundDefault=""
Background,1="mod,no effect;name,Default"
Background,2="mod,staticbg;name,StaticBG"
Background,3="mod,randombg;name,RandomBG"
#
SaveScores="2;together"
SaveScoresDefault=""
SaveScores,1="mod,no savescore;name,Off"
SaveScores,2="mod,savescore;name,On"
#
SaveReplays="2;together"
SaveReplaysDefault=""
SaveReplays,1="mod,no savereplay;name,Off"
SaveReplays,2="mod,savereplay;name,On"

#ScreenJukeboxMenu
RandomModifiers="2;together"
RandomModifiersDefault="mod,clear"
RandomModifiers,1="name,Off"
RandomModifiers,2="mod,random;name,Random"

# ScreenOptionsEditMode
Edit Steps="1;together;SelectNone"
Edit StepsDefault=""
Edit Steps,1="screen,ScreenOptionsManageEditSteps;name,Transfer To USB Drive"
#
Transfer To USB Drive="1;together;SelectNone"
Transfer To USB DriveDefault=""
Transfer To USB Drive,1="screen,ScreenOptionsManageEditSteps;name,Transfer To USB Drive"
#
Transfer From USB Drive="1;together;SelectNone"
Transfer From USB DriveDefault=""
Transfer From USB Drive,1="screen,ScreenOptionsManageEditSteps;name,Transfer From USB Drive"

[ScreenOptionsSimple]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-172+24*offsetFromCenter) end
StopMusicOnBack=false
SeparateExitRow=false

ExplanationTogetherOnCommand=zoom,0.65;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,Width()*1.75;diffuse,color("#FFFFFF");

OptionRowNormalMetricsGroup="OptionRowSimple"
OptionRowExitMetricsGroup="OptionRowSimpleExit"
CursorOnCommand=visible,false

LineHighlightP1OnCommand=zoomx,Width()*0.9;blend,Blend.Add;diffusealpha,0.075;x,Width()/2-40
LineHighlightP1OffCommand=linear,0.2;zoomx,0
LineHighlightP1ChangeCommand=stoptweening;linear,0.025;diffuse,color("1,1,1,0.075");
LineHighlightP1ChangeToExitCommand=stoptweening;linear,0.025;diffuse,HSVA(0,0.8,1,0.2);

LineHighlightP2OnCommand=zoomx,Width()*0.9;blend,Blend.Add;diffusealpha,0.075;x,Width()/2-40
LineHighlightP2OffCommand=linear,0.2;zoomx,0
LineHighlightP2ChangeCommand=stoptweening;linear,0.025;diffuse,color("1,1,1,0.075");
LineHighlightP2ChangeToExitCommand=stoptweening;linear,0.025;diffuse,HSVA(0,0.8,1,0.2);

[ScreenRootTheme]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimpleService"
NextScreen="ScreenCompany"
PrevScreen="ScreenTitleMenu"

LineNames="s_Combo,s_MusicWheel,s_StepsDisplay"
Lines_Combo="gamecommand;screen,ScreenComboSettings;name,Combo Settings"
Lines_MusicWheel="gamecommand;screen,ScreenMusicWheelSettings;name,MusicWheel Settings"
Lines_StepsDisplay="gamecommand;screen,ScreenStepsDisplaySettings;name,StepsDisplay Settings"

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

ExplanationTogetherY=CenterY()+186
SeparateExitRow=true
SeparateExitRowY=CenterY()+156

[ScreenComboSettings]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenCompany"
PrevScreen="ScreenRootTheme"
LineNames="1"
Line1="lua,ThemePrefRow('ShowCombo')"

[ScreenMusicWheelSettings]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenCompany"
PrevScreen="ScreenRootTheme"
LineNames="1,2,3"
Line1="lua,ThemePrefRow('MWNumItems')"
Line2="lua,ThemePrefRow('ShowRoulette')"
Line3="lua,ThemePrefRow('ShowRandom')"

[ScreenStepsDisplaySettings]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenCompany"
PrevScreen="ScreenRootTheme"
LineNames="1,2,3,4"
Line1="lua,ThemePrefRow('SDNumItems')"
Line2="lua,ThemePrefRow('SDNumTicks')"
Line3="lua,ThemePrefRow('SDShowTicks')"
Line4="lua,ThemePrefRow('SDShowMeter')"

[ScreenOptionsService]
ShowHeader=true
ShowFooter=true

LineNames="Advanced,Appearance,Arcade,Sync,KeyConfig,GraphicSound,Input,Network,Profiles,Reload,GameType,TestInput,UI,Credits"
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

ExplanationTogetherY=CenterY()+186
SeparateExitRow=true
SeparateExitRowY=CenterY()+156

[ScreenFeatureOptions]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenTitleMenu"
PrevScreen="ScreenTitleMenu"
LineNames="1,3,4"
Line1="lua,ThemePrefRow('MQBaseColor')"
Line2="lua,ThemePrefRow('MQThemeInterface')"
Line3="lua,ThemePrefRow('OptionsDisable')"
Line4="lua,ThemePrefRow('ShowStageInformation')"

[ScreenOptionsExtended]
LineNames="2,Sync,3,10,11,4,12,5,Theme"

[ScreenOptionsServiceChild]
ExplanationTogetherX=CenterX()
ExplanationTogetherY=CenterY()+186
ExplanationTogetherOnCommand=zoom,0.55;shadowlength,0;wrapwidthpixels,800/0.5;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenOptionsServiceExtendedChild]

[ScreenMiniMenu]
HeaderY=Top()
HeaderOnCommand=draworder,100;visible,false
LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.3;fadeleft,0.25;faderight,0.25;diffusealpha,0.375
LineHighlightChangeCommand=
LineHighlightChangeToExitCommand=

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenMiniMenuContext]
PageOnCommand=visible,false
LineHighlightX=CenterX()/2

TitleX=CenterX()
TitleOnCommand=shadowlength,1;
ItemsStartX=CenterX()
ItemsEndX=CenterX()
ItemsGapX=14
ItemsLongRowP1X=CenterX()
ItemsLongRowP2X=CenterX()
ItemsLongRowSharedX=CenterX()

[ScreenMapControllers]

[ScreenTestInput]

[ScreenOptionsSystemDirection]
LineNames="1,2,3,4,5,6,7,8,9,FlashyCombo,10,11,12,13,14,16,LF,17,18,19,20,21,22"
LineLF="lua,ThemePrefRow('LongFail')"
LineFlashyCombo="lua,ThemePrefRow('FlashyCombo')"

[ScreenOptionsGraphicsSound]

[ScreenOptionsAdvanced]
LineNames="3,4,8,11,13,14,16,28,29,30"

[ScreenAppearanceOptions]

[ScreenOptionsUI]

[ScreenOptionsInput]

[ScreenOptionsArcade]

[ScreenSelectGame]

[ScreenNetworkOptions]

[ScreenOptionsManageProfiles]
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end
SeparateExitRow=false

[ScreenOptionsManageProfilesTemporaly]
Class="ScreenOptionsManageProfiles"
Fallback="ScreenOptionsSimpleService"
PrevScreen="ScreenSelectProfile"
NextScreen="ScreenSelectProfile"

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end
SeparateExitRow=false

[ScreenNetPlayerOptions]
Class="ScreenPlayerOptions"
Fallback="ScreenOptions"
PrevScreen="ScreenNetSelectMusic"
NextScreen="ScreenNetSelectMusic"

LineNames="1,8,14,Zoom,7,20,SF,22,23,24,25,26,27"

Line1="lua,ArbitrarySpeedMods()"
Line8="list,NoteSkins"
Line14="list,Persp"
LineZoom="list,Zoom"
Line7="list,Scroll"
Line20="list,Rate"
LineSF="lua,OptionRowScreenFilter()"
Line22="lua,SurroundLifeVisible()"
Line23="lua,SurroundLifeColor()"
Line24="lua,VisiblePlayerStats()"
Line25="lua,VisibleRemainingLife()"
Line26="lua,VisibleNegativePercentScore()"
Line27="lua,OptionRowVocalize()"

ShowExitRow=true

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenPlayerOptions]
Class="ScreenPlayerOptions"
Fallback="ScreenOptions"
NextScreen=MetroQuad.Global.ScreenAfter.PlayerOptions
LineNames="1,8,14,4,Zoom,7,9,20,SF,16,NextScreen"

Line1="lua,ArbitrarySpeedMods()"
Line8="list,NoteSkins"
Line14="list,Persp"
Line4="list,Appearance"
LineZoom="list,Zoom"
Line7="list,Scroll"
Line9="list,Holds"
Line20="list,Rate"
LineSF="lua,OptionRowScreenFilter()"
Line16="list,Steps"
LineNextScreen="lua,ForwardOrBackward()"

ShowExitRow=true

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenPlayerOptions2]
Class="ScreenPlayerOptions"
Fallback="ScreenOptions"
PrevScreen="ScreenPlayerOptions"
NextScreen=MetroQuad.Global.ScreenAfter.PlayerOptions2
LineNames="2,3A,3B,R1,R2,5,6,10,11,13,21,NextScreen"

Line2="list,Accel"
Line3A="list,EffectsReceptor"
Line3B="list,EffectsArrow"
LineR1="list,RemoveCombinations"
LineR2="list,RemoveFeatures"
Line5="list,Turn"
Line6="list,Insert"
Line10="list,Mines"
Line11="list,Attacks"
Line13="list,Hide"
Line21="list,Background"
LineNextScreen="lua,ForwardOrBackward2()"

ShowExitRow=true

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenPlayerOptions3]
Class="ScreenPlayerOptions"
Fallback="ScreenOptions"
PrevScreen="ScreenPlayerOptions"
NextScreen=MetroQuad.Global.ScreenAfter.PlayerOptions3
LineNames="22,23,24,25,26,27,Vocalization,NextScreen"


Line22="lua,SurroundLifeVisible()"
Line23="lua,SurroundLifeColor()"
Line24="lua,VisiblePlayerStats()"
Line25="lua,VisibleRemainingLife()"
Line26="lua,VisibleNegativePercentScore()"
Line27="lua,EnableAutoRestartWithButton()"
LineVocalization="lua,OptionRowVocalize()"
LineNextScreen="lua,ForwardOrBackward3()"

NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[ScreenGameplay]
ShowSongTitle=false
ShowScoreFrame=false

# Players Field Position
PlayerP1OnePlayerOneSideX=PlayFieldPosition(PLAYER_1)
PlayerP2OnePlayerOneSideX=PlayFieldPosition(PLAYER_2)
PlayerP1TwoPlayersTwoSidesX=PlayFieldPosition(PLAYER_1)
PlayerP2TwoPlayersTwoSidesX=PlayFieldPosition(PLAYER_2)
PlayerP1OnePlayerTwoSidesX=CenterX()
PlayerP2OnePlayerTwoSidesX=CenterX()

# Filters Player Position
PlayerFilterP1OnePlayerOneSideX=math.floor(scale((0.85/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerFilterP2OnePlayerOneSideX=math.floor(scale((2.15/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerFilterP1TwoPlayersTwoSidesX=math.floor(scale((0.85/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerFilterP2TwoPlayersTwoSidesX=math.floor(scale((2.15/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerFilterP1OnePlayerTwoSidesX=CenterX()
PlayerFilterP2OnePlayerTwoSidesX=CenterX()

SongMeterDisplayP1X=
SongMeterDisplayP1Y=
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP1OffCommand=

SongMeterDisplayP2X=
SongMeterDisplayP2Y=
SongMeterDisplayP2OnCommand=visible,false
SongMeterDisplayP2OffCommand=

ShowBPMDisplay=true
BPMDisplayX=CenterX()
BPMDisplayY=CenterY()-193
BPMDisplayOnCommand=draworder,100;zoom,2.2
BPMDisplayOffCommand=bounceend,0.25;zoom,0

ShowStageDisplay=false
StageDisplayX=CenterX()
StageDisplayY=CenterY()+175
StageDisplayOnCommand=draworder,102;zoom,0.75
StageDisplayOffCommand=bounceend,0.25;zoom,0
StageDisplayUseShortString=true

LifeP1X=SurroundLifeP1X()
LifeP1Y=SurroundLifeY()
LifeP1OnCommand=%SurroundLifeP1OnCommand
LifeP1OffCommand=

LifeP2X=SurroundLifeP2X()
LifeP2Y=SurroundLifeY()
LifeP2OnCommand=%SurroundLifeP2OnCommand
LifeP2OffCommand=

CombinedLifeX=
CombinedLifeY=
CombinedLifeOnCommand=visible,false
CombinedLifeOffCommand=

ToastyDisplayP1X=
ToastyDisplayP1Y=
ToastyDisplayP1OnCommand=visible,false
ToastyDisplayP1OffCommand=

ToastyDisplayP2X=
ToastyDisplayP2Y=
ToastyDisplayP2OnCommand=visible,false
ToastyDisplayP2OffCommand=

SongNumberP1X=CenterX()-140
SongNumberP1Y=Top()+20
SongNumberP1OnCommand=zoom,0.7;diffuse,color("#FFFFFF")
SongNumberP1OffCommand=

SongNumberP2X=CenterX()+140
SongNumberP2Y=Top()+20
SongNumberP2OnCommand=zoom,0.7;diffuse,color("#FFFFFF")
SongNumberP2OffCommand=

RemainingTimeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") + 32
RemainingTimeP1Y=THEME:GetMetric(Var "LoadingScreen","ScoreP1Y") - 20
RemainingTimeP1OnCommand=zoom,7;shadowlength,1;diffuse,PlayerColor(PLAYER_1);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_1));
RemainingTimeP1OffCommand=

RemainingTimeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX") + 32
RemainingTimeP2Y=THEME:GetMetric(Var "LoadingScreen","ScoreP2Y") - 20
RemainingTimeP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_2));
RemainingTimeP2OffCommand=

DeltaSecondsP1X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1X") - 80
DeltaSecondsP1Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1Y")
DeltaSecondsP1OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP1GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP1OffCommand=

DeltaSecondsP2X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2X") - 80
DeltaSecondsP2Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2Y")
DeltaSecondsP2OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP2GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP2OffCommand=

ScoreP1X=CenterX()-228
ScoreP1Y=Top()+20
ScoreP1OnCommand=draworder,101;zoom,0.7
ScoreP1OffCommand=

ScoreP2X=CenterX()+228
ScoreP2Y=Top()+20
ScoreP2OnCommand=draworder,101;zoom,0.7
ScoreP2OffCommand=

StepsDescriptionP1X=
StepsDescriptionP1Y=
StepsDescriptionP1OnCommand=visible,false

StepsDescriptionP2X=
StepsDescriptionP2Y=
StepsDescriptionP2OnCommand=visible,false

PlayerOptionsP1X=
PlayerOptionsP1Y=
PlayerOptionsP1OnCommand=visible,false

PlayerOptionsP2X=
PlayerOptionsP2Y=
PlayerOptionsP2OnCommand=visible,false

StepsDisplayP1X=CenterX()-360
StepsDisplayP1Y=Top()+20
StepsDisplayP1OnCommand=draworder,101;zoom,1;vertalign,top

StepsDisplayP2X=CenterX()+358
StepsDisplayP2Y=Top()+20
StepsDisplayP2OnCommand=draworder,101;zoom,1;vertalign,top

SongOptionsX=Center1Player() and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or CenterX()
SongOptionsY=CenterY()-135
SongOptionsOnCommand=draworder,101;zoom,0.5;visible,false
SongOptionsOffCommand=

LyricDisplaySetNoReverseCommand=x,CenterX();y,CenterY()+160
LyricDisplaySetReverseCommand=x,CenterX();y,CenterY()-140
LyricDisplaySetOneReverseCommand=x,CenterX();y,CenterY()-160;
LyricDisplayDefaultColor=White()

OniGameOverP1X=
OniGameOverP1Y=
OniGameOverP1OnCommand=
OniGameOverP1OffCommand=

OniGameOverP2X=
OniGameOverP2Y=
OniGameOverP2OnCommand=
OniGameOverP2OffCommand=

SurviveTimeX=CenterX()
SurviveTimeY=CenterY()+40
SurviveTimeOnCommand=shadowlength,1;zoomx,0;bounceend,1;zoomx,1
SurviveTimeOffCommand=shadowlength,1;linear,1;zoom,0.75;diffusealpha,0

ActiveAttackListP1X=
ActiveAttackListP1Y=
ActiveAttackListP1OnCommand=visible,false
ActiveAttackListP1OffCommand=

ActiveAttackListP2X=
ActiveAttackListP2Y=
ActiveAttackListP2OnCommand=visible,false
ActiveAttackListP2OffCommand=

ShowPercentScoreP1=true
PercentScoreP1X=CenterX()-374
PercentScoreP1Y=Top()+58+19.95*18
PercentScoreP1OnCommand=draworder,300;player,PLAYER_1;
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;

ShowPercentScoreP2=true
PercentScoreP2X=CenterX()+374
PercentScoreP2Y=Top()+58+19.95*18
PercentScoreP2OnCommand=draworder,300;player,PLAYER_2;
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;

[RollingNumbersJudgment]
Fallback="RollingNumbers"
TextFormat="%09.0f"
ApproachSeconds=1
Commify=false

[ScreenEvaluation]
ShowHeader=true
HeaderX=CenterX()
HeaderY=Top()
HeaderOnCommand=draworder,-1;zoomy,0.6;diffuse,color("#808080");maxwidth,300
HeaderOffCommand=

Class="ScreenEvaluation"
Fallback="ScreenWithMenuElements"
#
StageDisplayNumberOffset=0
#
NextScreen=Branches.AfterEvaluation()
PrevScreen=Branches.AfterEvaluation()
#
PlayMusic=false
#
PrepareScreens="ScreenProfileSave,ScreenSelectMusic"
PersistScreens="ScreenEvaluation,ScreenProfileSave,ScreenSelectMusic"
#
ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
ShowJudgmentLineHeld=(GAMESTATE:GetCurrentGame():GetName() ~= "pump")
ShowJudgmentLineMiss=true
ShowJudgmentLineMaxCombo=true
ShowJudgmentLineMine=true
ShowGradeArea=true
ShowScoreArea=false
ShowPointsArea=true
ShowBannerArea=true
ShowSharedJudgmentLineLabels=FALSE
ShowGraphDisplay=true
ShowComboGraph=false
ShowStepsDisplay=true

ShowFOpen=true
FOpenX=
FOpenY=
FOpenOnCommand=draworder,110
FOpenOffCommand=

ShowSongInformation=true
SongInformationX=CenterX()
SongInformationY=Top()+83
SongInformationOnCommand=playcommand,"Set";draworder,105
SongInformationOffCommand=

W1NumberP1X=Left()+252
W1NumberP1Y=CenterY()+56-18*7
W1NumberP1OnCommand=visible,false
W1NumberP1OffCommand=

W1NumberP2X=CenterX()+385
W1NumberP2Y=CenterY()+56-18*7
W1NumberP2OnCommand=visible,false
W1NumberP2OffCommand=

W2NumberP1X=Left()+252
W2NumberP1Y=CenterY()+56-18*6
W2NumberP1OnCommand=visible,false
W2NumberP1OffCommand=

W2NumberP2X=CenterX()+385
W2NumberP2Y=CenterY()+56-18*6
W2NumberP2OnCommand=visible,false
W2NumberP2OffCommand=

W3NumberP1X=Left()+252
W3NumberP1Y=CenterY()+56-18*5
W3NumberP1OnCommand=visible,false
W3NumberP1OffCommand=

W3NumberP2X=CenterX()+385
W3NumberP2Y=CenterY()+56-18*5
W3NumberP2OnCommand=visible,false
W3NumberP2OffCommand=

W4NumberP1X=Left()+252
W4NumberP1Y=CenterY()+56-18*4
W4NumberP1OnCommand=visible,false
W4NumberP1OffCommand=

W4NumberP2X=CenterX()+385
W4NumberP2Y=CenterY()+56-18*4
W4NumberP2OnCommand=visible,false
W4NumberP2OffCommand=

W5NumberP1X=Left()+252
W5NumberP1Y=CenterY()+56-18*3
W5NumberP1OnCommand=visible,false
W5NumberP1OffCommand=

W5NumberP2X=CenterX()+385
W5NumberP2Y=CenterY()+56-18*3
W5NumberP2OnCommand=visible,false
W5NumberP2OffCommand=

MissNumberP1X=Left()+252
MissNumberP1Y=CenterY()+56-18*2
MissNumberP1OnCommand=visible,false
MissNumberP1OffCommand=

MissNumberP2X=CenterX()+385
MissNumberP2Y=CenterY()+56-18*2
MissNumberP2OnCommand=visible,false
MissNumberP2OffCommand=

HeldNumberP1X=Left()+252
HeldNumberP1Y=CenterY()+56-18
HeldNumberP1OnCommand=visible,false
HeldNumberP1OffCommand=

HeldNumberP2X=CenterX()+385
HeldNumberP2Y=CenterY()+56-18
HeldNumberP2OnCommand=visible,false
HeldNumberP2OffCommand=

MaxComboNumberP1X=Left()+252
MaxComboNumberP1Y=CenterY()+56
MaxComboNumberP1OnCommand=visible,false
MaxComboNumberP1OffCommand=

MaxComboNumberP2X=CenterX()+385
MaxComboNumberP2Y=CenterY()+56
MaxComboNumberP2OnCommand=visible,false
MaxComboNumberP2OffCommand=

ScoreLabelX=CenterX()
ScoreLabelY=Top()+330
ScoreLabelOnCommand=
ScoreLabelOffCommand=

ScoreNumberP1X=CenterX()-160
ScoreNumberP1Y=Top()+320
ScoreNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1;zoom,0.775
ScoreNumberP1OffCommand=

ScoreNumberP2X=CenterX()+160
ScoreNumberP2Y=Top()+320
ScoreNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1;zoom,0.775
ScoreNumberP2OffCommand=
#
PercentFrameP1X=CenterX()-160
PercentFrameP1Y=Top()+320
PercentFrameP1OnCommand=visible,false
PercentFrameP1OffCommand=
#
PercentFrameP2X=CenterX()+160
PercentFrameP2Y=Top()+320
PercentFrameP2OnCommand=visible,false
PercentFrameP2OffCommand=
#
PercentP1X=CenterX()-160
PercentP1Y=Top()+320
PercentP1OnCommand=visible,false
PercentP1OffCommand=
#
PercentP2X=CenterX()+160
PercentP2Y=Top()+320
PercentP2OnCommand=visible,false
PercentP2OffCommand=
#
LargeBannerX=CenterX()
LargeBannerY=CenterY()-96
LargeBannerOnCommand=scaletoclipped,256,86
LargeBannerOffCommand=

LargeBannerFrameX=
LargeBannerFrameY=
LargeBannerFrameOnCommand=visible,false
#
GradeFrameP1X=
GradeFrameP1Y=
GradeFrameP1OnCommand=visible,false
GradeFrameP1OffCommand=

GradeFrameP2X=
GradeFrameP2Y=
GradeFrameP2OnCommand=visible,false
GradeFrameP2OffCommand=
#
GradeP1X=CenterX()-336
GradeP1Y=CenterY()-113
GradeP1OnCommand=visible,false
GradeP1OffCommand=

GradeP2X=CenterX()+222
GradeP2Y=CenterY()-113
GradeP2OnCommand=visible,false
GradeP2OffCommand=
#
PlayerOptionsP1X=Left()+16
PlayerOptionsP1Y=CenterY()+178
PlayerOptionsP1OnCommand=draworder,5;zoom,0.4;shadowlength,1;maxwidth,656;horizalign,left
PlayerOptionsP1OffCommand=
##
PlayerOptionsP2X=Right()-280
PlayerOptionsP2Y=CenterY()+178
PlayerOptionsP2OnCommand=draworder,5;zoom,0.4;shadowlength,1;maxwidth,656;horizalign,left
PlayerOptionsP2OffCommand=
#
SongOptionsX=CenterX()
SongOptionsY=CenterY()+178
SongOptionsOnCommand=draworder,6;zoom,0.4;maxwidth,480
SongOptionsOffCommand=

DisqualifiedP1X=
DisqualifiedP1Y=
DisqualifiedP1OnCommand=visible,false

DisqualifiedP2X=
DisqualifiedP2Y=
DisqualifiedP2OnCommand=visible,false

GraphDisplayP1X=
GraphDisplayP1Y=
GraphDisplayP1OnCommand=visible,false

GraphDisplayP2X=
GraphDisplayP2Y=
GraphDisplayP2OnCommand=visible,false

ComboGraphP1X=
ComboGraphP1Y=
ComboGraphP1OnCommand=visible,false

ComboGraphP2X=
ComboGraphP2Y=
ComboGraphP2OnCommand=visible,false

MachineRecordP1X=CenterX()-220
MachineRecordP1Y=Top()+146
MachineRecordP1OnCommand=
MachineRecordP1OffCommand=

MachineRecordP2X=CenterX()+220
MachineRecordP2Y=Top()+146
MachineRecordP2OnCommand=
MachineRecordP2OffCommand=

PersonalRecordP1X=CenterX()-240
PersonalRecordP1Y=Top()+82
PersonalRecordP1OnCommand=zoom,0.6;diffuseshift;effectperiod,0.75;effectcolor1,color("1,0.95,0.8,1");effectcolor2,color("0.8,0.95,1,1")
PersonalRecordP1OffCommand=

PersonalRecordP2X=CenterX()+320
PersonalRecordP2Y=Top()+82
PersonalRecordP2OnCommand=zoom,0.6;diffuseshift;effectperiod,0.75;effectcolor1,color("1,0.95,0.8,1");effectcolor2,color("0.8,0.95,1,1")
PersonalRecordP2OffCommand=

StageAwardP1X=CenterX()-220
StageAwardP1Y=Top()+130
StageAwardP1OnCommand=visible,false
StageAwardP1OffCommand=

StageAwardP2X=CenterX()+220
StageAwardP2Y=Top()+130
StageAwardP2OnCommand=visible,false
StageAwardP2OffCommand=

PeakComboAwardP1X=CenterX()-160
PeakComboAwardP1Y=Top()+300+10
PeakComboAwardP1OnCommand=visible,false
PeakComboAwardP1OffCommand=

PeakComboAwardP2X=CenterX()+160
PeakComboAwardP2Y=Top()+300+10
PeakComboAwardP2OnCommand=visible,false
PeakComboAwardP2OffCommand=

ShowStepsDisplayP1=GAMESTATE:IsHumanPlayer(PLAYER_1)
StepsDisplayP1X=CenterX()-395
StepsDisplayP1Y=CenterY()-126
StepsDisplayP1OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP1")
StepsDisplayP1OffCommand=bouncebegin,0.15;zoomx,0;

ShowStepsDisplayP2=GAMESTATE:IsHumanPlayer(PLAYER_2)
StepsDisplayP2X=CenterX()+163
StepsDisplayP2Y=CenterY()-126
StepsDisplayP2OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP2")
StepsDisplayP2OffCommand=bouncebegin,0.15;zoomx,0;

ShowGameType=false
GameTypeX=CenterX()
GameTypeY=Bottom()-48
GameTypeOnCommand=addy,CenterY();decelerate,0.35;addy,-CenterY();zoom,0.675;shadowlength,1;shadowcolor,color("#22222266")
GameTypeOffCommand=bouncebegin,0.15;addy,CenterY();

ShowTimingDifficulty=true
TimingDifficultyX=Left()+84
TimingDifficultyY=Top()+52
TimingDifficultyOnCommand=
TimingDifficultyOffCommand=

ShowLifeDifficulty=true
LifeDifficultyX=Left()+156
LifeDifficultyY=Top()+52
LifeDifficultyOnCommand=
LifeDifficultyOffCommand=

ShowWinArea=false
WinFrameP1X=
WinFrameP1Y=
WinFrameP1OnCommand=

WinFrameP2X=
WinFrameP2Y=
WinFrameP2OnCommand=

WinP1X=CenterX()-224
WinP1Y=Bottom()-224
WinP1OnCommand=draworder,101

WinP2X=CenterX()+224
WinP2Y=Bottom()-224
WinP2OnCommand=draworder,101


[ScreenEvaluationNormal]
Fallback="ScreenEvaluation"
#
PlayMusic=false
#
ShowBannerFrame=true
#
ShowStageDisplay=true
StageDisplayX=CenterX()
StageDisplayY=Top()+20
StageDisplayOnCommand=draworder,105;zoom,0.6
StageDisplayOffCommand=

PercentScoreToMaxP1X=CenterX()-60
PercentScoreToMaxP1Y=CenterY()+40
PercentScoreToMaxP1OnCommand=diffuse,White();zoom,0.4;
PercentScoreToMaxP1OffCommand=bouncebegin,0.15;zoomx,0;
#
PercentScoreToMaxP2X=CenterX()+82
PercentScoreToMaxP2Y=CenterY()+40
PercentScoreToMaxP2OnCommand=diffuse,White();zoom,0.4;
PercentScoreToMaxP2OffCommand=bouncebegin,0.15;zoomx,0;

[ScreenEvaluationSummary]
Fallback="ScreenEvaluation"
#
NextScreen=Branch.AfterSummary()
#
PlayMusic=false
#
Summary=true
#
ShowStageDisplay=false
#
SmallBanner1X=CenterX()-72
SmallBanner1Y=Top()+100-24
SmallBanner1OnCommand=zoom,0.5
SmallBanner1OffCommand=

SmallBanner2X=CenterX()-48
SmallBanner2Y=Top()+100-16
SmallBanner2OnCommand=zoom,0.5
SmallBanner2OffCommand=

SmallBanner3X=CenterX()-24
SmallBanner3Y=Top()+100-8
SmallBanner3OnCommand=zoom,0.5
SmallBanner3OffCommand=

SmallBanner4X=CenterX()+24
SmallBanner4Y=Top()+100+8
SmallBanner4OnCommand=zoom,0.5
SmallBanner4OffCommand=

SmallBanner5X=CenterX()+48
SmallBanner5Y=Top()+100+16
SmallBanner5OnCommand=zoom,0.5
SmallBanner5OfCommand=

SmallBanner6X=CenterX()+72
SmallBanner6Y=Top()+100+24
SmallBanner6OnCommand=zoom,0.5
SmallBanner6OffCommand=

[ScreenNameEntry]

[ScreenGameOver]

[ScreenPrompt]

[ScreenOptionsEdit]
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(CenterY()-148+32*offsetFromCenter) end

[EditMenu]
Arrows1X=CenterX()-220
Arrows2X=CenterX()+136

ArrowsEnabledCommand=diffuse,color("1,1,1,1")
ArrowsDisabledCommand=diffuse,color("0.4,0.4,0.4,1")

GroupBannerX=CenterX()+256
GroupBannerY=CenterY()-140
GroupBannerOnCommand=scaletoclipped,120,40

SongBannerX=CenterX()+256
SongBannerY=CenterY()-90
SongBannerOnCommand=scaletoclipped,120,40

TextBannerType="TextBannerEditMode"
SongTextBannerX=CenterX()-190
SongTextBannerY=CenterY()-90

StepsDisplayX=CenterX()+256
StepsDisplayY=CenterY()+4
StepsDisplaySourceX=CenterX()+256
StepsDisplaySourceY=CenterY()+84

RowLabelX=Left()+56
LabelOnCommand=zoom,0.6

Row1Y=CenterY()-140
Row2Y=CenterY()-90
Row3Y=CenterY()-34
Row4Y=CenterY()+4
Row5Y=CenterY()+46
Row6Y=CenterY()+84
Row7Y=CenterY()+140

Label1X=THEME:GetMetric("EditMenu","RowLabelX")
Label1OnCommand=zoom,0.6;halign,0
Label2X=THEME:GetMetric("EditMenu","RowLabelX")
Label2OnCommand=zoom,0.6;halign,0
Label3X=THEME:GetMetric("EditMenu","RowLabelX")
Label3OnCommand=zoom,0.6;halign,0
Label4X=THEME:GetMetric("EditMenu","RowLabelX")
Label4OnCommand=zoom,0.6;halign,0
Label5X=THEME:GetMetric("EditMenu","RowLabelX")
Label5OnCommand=zoom,0.6;halign,0
Label6X=THEME:GetMetric("EditMenu","RowLabelX")
Label6OnCommand=zoom,0.6;halign,0
Label7X=THEME:GetMetric("EditMenu","RowLabelX")
Label7OnCommand=zoom,0.6;halign,0

Value1X=CenterX()-200
Value1OnCommand=zoom,0.5;halign,0
Value2X=CenterX()-48
Value2OnCommand=zoom,0.6;
Value3X=CenterX()-48
Value3OnCommand=zoom,0.5;
Value4X=CenterX()-48
Value4OnCommand=zoom,0.5;
Value5X=CenterX()-48
Value5OnCommand=zoom,0.5;
Value6X=CenterX()-48
Value6OnCommand=zoom,0.5;
Value7X=CenterX()-48
Value7OnCommand=zoom,0.5;

[TextBannerEditMode]

[ScreenEditMenu]
ExplanationY=Bottom()-54
ExplanationOnCommand=zoom,0.35

[ScreenEdit]
Class="ScreenEdit"
Fallback="ScreenWithMenuElementsBlank"
PrepareScreens=GetEditModeSubScreens()
GroupedScreens=GetEditModeSubScreens()
PersistScreens=GetEditModeSubScreens()

EditMode="EditMode_Full"
NextScreen="ScreenEditMenu"
PrevScreen="ScreenEditMenu"
ShowHelp=false
AllowOperatorMenuButton=false
ShowCreditDisplay=false
ShowStyleIcon=false
InvertScrollSpeedButtons=false
TimerSeconds=-1
EditModifiers="no reverse"

EditHelpX=Left()+20
EditHelpY=Top()+64
EditHelpOnCommand=halign,0;valign,0;zoom,0.33;shadowlength,1

InfoX=Right()-136
InfoY=Top()+64
InfoOnCommand=halign,0;valign,0;zoom,0.33;shadowlength,1

PlayRecordHelpX=CenterX()
PlayRecordHelpY=Bottom()-20
PlayRecordHelpOnCommand=zoom,0.5;valign,0;shadowlength,1

LoopOnChartEnd=false

CurrentBeatFormat="%s:\n  %.3f\n"
CurrentSecondFormat="%s:\n  %.3f\n"
SnapToFormat="%s: %s\n"
SelectionBeatBeginFormat="%s:\n  %.3f"
SelectionBeatUnfinishedFormat=" ...\n"
SelectionBeatEndFormat="-%.3f\n"
DifficultyFormat="%s:\n  %s\n"
RoutinePlayerFormat="%s: %d\n"
DescriptionFormat="%s:\n  %s\n"
StepAuthorFormat="%s:\n  %s\n"
ChartNameFormat="%s:\n  %s\n"
ChartStyleFormat="%s:\n  %s\n"
MainTitleFormat="%s:\n  %s\n"
SubtitleFormat="%s:\n  %s\n"
TapNoteTypeFormat="%s: %s\n"
SegmentTypeFormat="%s: %s\n"
NumStepsFormat="%s: %d\n"
NumJumpsFormat="%s: %d\n"
NumHoldsFormat="%s: %d\n"
NumMinesFormat="%s: %d\n"
NumHandsFormat="%s: %d\n"
NumRollsFormat="%s: %d\n"
NumLiftsFormat="%s: %d\n"
NumFakesFormat="%s: %d\n"
NumStepsFormatTwoPlayer="%s: %d/%d\n"
NumJumpsFormatTwoPlayer="%s: %d/%d\n"
NumHoldsFormatTwoPlayer="%s: %d/%d\n"
NumMinesFormatTwoPlayer="%s: %d/%d\n"
NumHandsFormatTwoPlayer="%s: %d/%d\n"
NumRollsFormatTwoPlayer="%s: %d/%d\n"
NumLiftsFormatTwoPlayer="%s: %d/%d\n"
NumFakesFormatTwoPlayer="%s: %d/%d\n"
TimingModeFormat="%s:\n  %s\n"
Beat0OffsetFormat="%s:\n  %.3f secs\n"
PreviewStartFormat="%s:\n  %.3f secs\n"
PreviewLengthFormat="%s:\n  %.3f secs\n"

FadeInPreview=0
FadeOutPreview=1.5

[ScreenPracticeMenu]

[PracticeMenu]

[ScreenPractice]

[ScreenEditOptions]
LineNames="1,2,3,4,5,6,R1,R2,7,8,9,10,Attacks,11,12,13,14,15,16,SF"
Line1="lua,SpeedMods()"
LineSF="lua,OptionRowScreenFilter()"

[StepsDisplayEdit]
Fallback="StepsDisplayGameplay"

[ScreenMiniMenuEditHelp]

[OptionRowMiniMenuEditHelp]

[ScreenMiniMenuMainMenu]


[ScreenMiniMenuAreaMenu]

[ScreenMiniMenuStepsInformation]

[ScreenMiniMenuSongInformation]

[ScreenMiniMenuTimingDataInformation]

[ScreenMiniMenuBackgroundChange]

[ScreenMiniMenuPreferences]

[ScreenMiniMenuInsertTapAttack]

[ScreenMiniMenuInsertCourseAttack]

[ScreenMiniMenuCourseDisplay]

[ScreenMiniMenuCourseOptions]

[ScreenOptionsExportPackage]

[ScreenOptionsManage]

[OptionRowManage]

[OptionRowCourseOverview]

[ScreenOptionsManageCourses]

[OptionRowCourse]

[ScreenOptionsEditCourse]

[OptionRowEditCourse]

[ScreenOptionsCourseOverview]

[ScreenGameplaySyncMachine]
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
StepsDescriptionP1OnCommand=visible,false
StepsDescriptionP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false

[PlayerSyncMachine]

[ScreenHowToInstallSongs]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
ShowHeader=false

ShowScroller=true
PerChoiceScrollElement=false
#
ShowIcon=true
UseIconMetrics=false
PerChoiceIconElement=false
#
ScrollerX=Left()+32
ScrollerY=CenterY()
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(24*(itemIndex-(numItems-1)/2)); end
ScrollerNumItemsToDraw=20
ScrollerOffCommand=bouncebegin,0.25;addx,-CenterX()

ChoiceNames="WhereToFind,HowToInstall,AdditionalFolders,ReloadSongs,Exit"
ChoiceWhereToFind="urlnoexit,http://code.google.com/p/sm-ssc/wiki/FindingContent;text,"..Screen.String("Finding Songs")
ChoiceHowToInstall="urlnoexit,http://code.google.com/p/sm-ssc/wiki/InstallingContent;text,"..Screen.String("Installing Songs")
ChoiceAdditionalFolders="text,"..Screen.String("Importing Songs")
ChoiceReloadSongs="screen,ScreenReloadSongs;text,"..Screen.String("Reload Songs")
ChoiceExit="screen,"..Branch.TitleMenu()..";text,"..Screen.String("Exit")
DefaultChoice="WhereToFind"

OptionOrderUp="5:4,4:3,3:2,2:1,1:5"
OptionOrderDown="1:2,2:3,3:4,4:5,5:1"

[ScreenSMOnlineLogin]

[ScreenNetSelectBase]
Class="ScreenNetSelectBase"
Fallback="ScreenWithMenuElements"

ChatInputBoxX=CenterX()*0.5
ChatInputBoxY=CenterY()+112
ChatInputBoxOnCommand=bounceend,0.5;diffusealpha,1;
ChatInputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatInputBoxWidth=CenterX()*0.9
ChatInputBoxHeight=64

ChatInputX=(CenterX()*0.5)*0.125
ChatInputY=CenterY()+84
ChatTextInputWidth=CenterX()*2.95
ChatInputOnCommand=halign,0;valign,0;zoom,0.3;diffusealpha,0;linear,0.55;diffusealpha,1
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0

ChatOutputBoxX=CenterX()*0.5
ChatOutputBoxY=CenterY()-36
ChatOutputBoxOnCommand=bounceend,0.5;diffusealpha,1;
ChatOutputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatOutputBoxWidth=CenterX()*0.9
ChatOutputBoxHeight=CenterY()*0.875

ChatOutputX=(CenterX()*0.5)*0.125
ChatOutputY=CenterY()+64
ChatTextOutputWidth=CenterX()*2.95
ChatOutputLines=19
ChatOutputOnCommand=halign,0;valign,1;zoom,0.3;diffusealpha,0;linear,0.55;diffusealpha,1
ChatOutputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0

UsersX=Left()+4
UsersY=CenterY()+172
UserSpacingX=40
UserLine2Y=16

UsersOnCommand=draworder,2;zoom,0.5;halign,0
UsersOffCommand=linear,0.5;zoom,0

Users0Command=draworder,2;diffuse,color("1.0,0.4,0.4,1.0")
Users1Command=draworder,2;diffuse,color("1.0,1.0,1.0,1.0")
Users2Command=draworder,2;diffuse,color("0.5,0.5,1.0,1.0")
Users3Command=draworder,2;diffuse,color("0.5,1.0,0.5,1.0")
Users4Command=draworder,2;diffuse,color("1.0,0.5,0.5,1.0")

[ModIcon]
TextX=0
TextY=0
TextOnCommand=maxwidth,50;uppercase,true;shadowlength,0;diffuse,color("#f6ff00")
CropTextToWidth=400
StopWords="default,Off"

[ModIconSelectMusic]
Fallback="ModIcon"
TextY=-1
TextOnCommand=maxwidth,65;uppercase,true;horizalign,left

[ModIconRow]
NumModIcons=6
ModIconOnCommand=
SpacingX=0
SpacingY=52

[ModIconRowSelectMusic]
Fallback="ModIconRow"
SpacingX=75
SpacingY=0
ModIconMetricsGroup="ModIconSelectMusic"

[ScreenNetSelectMusic]
ShowHeader=false

PlayerOptionsScreen="ScreenNetPlayerOptions"

BPMDisplayX=CenterX()-160-90+2
BPMDisplayY=CenterY()+156
BPMDisplayOnCommand=finishtweening;horizalign,left;strokecolor,Color("Outline");maxwidth,128;addx,320;zoomx,0;decelerate,0.35;addx,-320;zoomx,1
BPMDisplayOffCommand=bouncebegin,0.15;zoomx,0;

StepsDisplayP1X=CenterX()
StepsDisplayP1Y=CenterY()+130
StepsDisplayP1OnCommand=zoom,1

StepsDisplayP2X=CenterX()
StepsDisplayP2Y=CenterY()+130
StepsDisplayP2OnCommand=zoom,1

ModIconsP1X=ModIconsX()
ModIconsP1Y=ModIconsY()
ModIconsP1OnCommand=%ModIconsOnCommand
ModIconsP1OffCommand=linear,0.5;zoomy,0

ModIconsP2X=ModIconsX()
ModIconsP2Y=ModIconsY()
ModIconsP2OnCommand=%ModIconsOnCommand
ModIconsP2OffCommand=linear,0.5;zoomy,0

MusicWheelType="OnlineMusicWheel"
MusicWheelX=MusicWheelX()
MusicWheelY=MusicWheelY()
MusicWheelOnCommand=%MusicWheelOnCommand
MusicWheelOffCommand=bouncebegin,0.15;zoomx,0;

ShowBPMDisplay=true
BPMDisplayX=CenterX()-220
BPMDisplayY=CenterY()+186
BPMDisplayOnCommand=maxwidth,128;horizalign,left;zoom,0.7
BPMDisplayOffCommand=bouncebegin,0.15;zoomx,0;

UsersX=CenterX()-272
UsersY=CenterY()-165
UsersDX=40
UsersAY=16
UsersOnCommand=draworder,2;zoom,0.4;shadowlength,1

ShowDifficultyDisplay=true
DifficultyDisplayX=CenterX()-312
DifficultyDisplayY=CenterY()+186
DifficultyDisplayOnCommand=draworder,105;fov,90;zoom,0.75;
DifficultyDisplayOffCommand=linear,0.25;zoomy,0;

[StepsDisplayNet]

[ScreenNetRoom]
Class="ScreenNetRoom"
Fallback="ScreenNetSelectBase"
PrevScreen=Branch.TitleMenu()
# XXX
NextScreen="ScreenGameplayBranch"
MusicSelectScreen="ScreenNetSelectMusic"

ShowHeader=true
HeaderX=CenterX()
HeaderY=Top()
HeaderOnCommand=draworder,-1;zoomy,0.6;diffuse,color("#808080");maxwidth,300
HeaderOffCommand=

RoomWheelX=MusicWheelX()
RoomWheelY=MusicWheelY()
RoomWheelOnCommand=%MusicWheelOnCommand
RoomWheelOffCommand=bouncebegin,0.15;zoomx,0;

OpenRoomColor=color("1.0,1.0,1.0,1.0")
PasswdRoomColor=color("1.0,0.5,0.5,1.0")
InGameRoomColor=color("1.0,0.1,0.1,1.0")

[RoomWheel]
Fallback="OnlineMusicWheel"

[RoomWheelItem]
TextX=RW_TextX()
TextY=RW_TextY()
TextOnCommand=halign,0;zoom,0.6;maxwidth,200;strokecolor,color("#000000FF");

DescriptionX=RW_TextX()
DescriptionY=RW_DescriptionY()
DescriptionOnCommand=halign,0;zoom,0.4;maxwidth,400;strokecolor,color("#000000FF")

[RoomInfoDisplay]
RoomInfoDisplayOnCommand=diffuse,color("1.0,1.0,1.0,1");x,CenterX()+300;y,CenterY()
RoomInfoDisplayOffCommand=x,SCREEN_WIDTH-160;y,250;bouncebegin,0.5;x,SCREEN_WIDTH+130
DeployDelay=0.5
RetractDelay=99999
RoomTitleOnCommand=x,-120;y,-140;zoom,0.4
RoomDescOnCommand=x,-120;y,-129;zoom,0.4
LastRoundOnCommand=x,-120;y,-107;zoom,0.4
SongTitleOnCommand=x,-110;y,-96;zoom,0.4
SongSubTitleOnCommand=x,-110;y,-85;zoom,0.4
SongArtistOnCommand=x,-110;y,-74;zoom,0.4
PlayersOnCommand=x,-120;y,-52;zoom,0.4
PlayerListElementX=-110
PlayerListElementY=-41
PlayerListElementOffsetX=0
PlayerListElementOffsetY=11
PlayerListElementOnCommand=zoom,0.4

[GraphDisplay]
BodyWidth=421
BodyHeight=64

[ComboGraph]

[ScreenNetEvaluation]
UserTier02OrBetterCommand=diffuseshift;effectperiod,0.75;effectcolor1,color("1,0.95,0.8,1");effectcolor2,color("0.8,0.95,1,1")



[ScreenTitleJoin]
ShowHelp=false
HelpText=Screen.String("HelpTextTitleJoin")
HelpY=CenterY()+100
HelpOnCommand=visible,false;zoom,1;strokecolor,color("0.125,0.125,0.125,0.5");queuecommand,"Refresh"
HelpCoinIsertedMessageCommand=playcommand,"Refresh"
HelpCoinModeChangedMessageCommand=playcommand,"Refresh"
HelpRefreshCommand=%function(self) \
	local bCanPlay = GAMESTATE:EnoughCreditsToJoin(); \
	local bReady = GAMESTATE:GetNumSidesJoined() > 0; \
	if bCanPlay or bReady then \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextPlay")); \
	else \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextWait")); \
	end \
end;
#
LogoX=CenterX()
LogoY=CenterY()-28
LogoOnCommand=bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.75
LogoOffCommand=stopeffect;bouncebegin,0.35;rotationz,360;zoom,0

VersionInfoX=CenterX()+114
VersionInfoY=CenterY()+44
VersionInfoOnCommand=horizalign,right;vertalign,bottom;bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.65;shadowlength,1;shadowcolor,color("0.2,0.2,0.2,0.925");
ScrollerOnCommand=visible,false;
ArcadeOverlay.TextY=Bottom()-128

[ScreenJukeboxMenu]
Class="ScreenOptionsMaster"
Fallback="ScreenPlayerOptions"
NextScreen=MetroQuad.Global.ScreenAfter.JukeboxMenu
PrevScreen="ScreenJukeboxMenu"
TimerSeconds=-1
ShowStyleIcon=false
ShowExitRow=false

InputMode="together"
ForceAllPlayers=true

LineNames="1,2,3,4,5"
Line1="list,Styles"
Line2="list,Groups"
Line3="list,Difficulties"
Line4="lua,OptionsRandomJukebox()"
Line5="lua,JukeboxCancelOrPlay()"

[ScreenCredits]
